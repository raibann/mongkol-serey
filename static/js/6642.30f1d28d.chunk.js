"use strict";(self.webpackChunkmongkol_serey_cms=self.webpackChunkmongkol_serey_cms||[]).push([[6642],{39421:function(e,t,n){n.d(t,{W:function(){return o}});var r=n(72791),i=n(80184),o=r.memo((function(){return(0,i.jsxs)("div",{className:"lds-facebook",children:[(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]})}))},85871:function(e,t,n){var r=n(84395),i=n(34663),o=n(61889),a=n(20890),s=(n(72791),n(69780)),l=n(80184);t.Z=function(e){var t=e.children,n=e.pageTitle,c=(0,s.Z)().isSmDown;return(0,l.jsx)(r.Z,{position:"sticky",sx:{bgcolor:"background.paper",boxShadow:"none",borderRadius:0,mb:1},children:(0,l.jsx)(i.Z,{sx:{py:2,px:{sm:0}},children:(0,l.jsxs)(o.ZP,{container:!0,px:c?0:3,rowGap:c?2:0,children:[(0,l.jsx)(o.ZP,{item:!0,xs:6,md:"auto",children:(0,l.jsx)(a.Z,{variant:"h6",fontWeight:"600",children:n})}),(0,l.jsx)(o.ZP,{item:!0,xs:6,md:!0,display:"flex",justifyContent:"flex-end",children:t})]})})})}},56642:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ye}});var r=n(93433),i=n(29439),o=n(68870),a=n(20890),s=n(53767),l=n(61889),c=n(35527),d=n(90493),u=n(94721),h=n(74165),m=n(15861),x=n(38233),p=n(17657),f={getCharts:function(){var e=(0,m.Z)((0,h.Z)().mark((function e(){var t;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Z.get(p.J.charts);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getTotals:function(){var e=(0,m.Z)((0,h.Z)().mark((function e(t){var n,r,i;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.startDate,r=t.endDate,e.next=3,x.Z.get(p.J.totals,{params:{startDate:n,endDate:r}});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=f,j=n(39421),g=n(13967),y=n(20068),Z=n(45484),b=n(57064),w=n(49900),D=n(93044),T=n(12065),C=n(74213),k=n(51476),S=n(80184),E=function(e){var t=e.title,n=e.icon,r=e.value,i=e.endTitle,o=e.primaryIcon,l=e.primaryText,u=e.secondaryIcon,h=e.secondaryText,m=e.primaryReverse,x=e.secondaryReverse,p=e.primaryTooltip,f=void 0===p?"":p,v=e.secondaryTooltip,j=void 0===v?"":v,E=(0,g.Z)();return(0,S.jsxs)(c.Z,{elevation:1,sx:{p:2,width:"100%",height:"100%",borderRadius:3,background:E.palette.common.white},children:[(0,S.jsx)(a.Z,{color:"text.secondary",children:t}),(0,S.jsxs)(s.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,S.jsxs)(d.Z,{disablePadding:!0,dense:!0,children:[(0,S.jsx)(y.Z,{title:f,placement:"top",children:(0,S.jsxs)(Z.ZP,{disableGutters:!0,disablePadding:!0,sx:{flexDirection:m?"row-reverse":"row",cursor:"pointer"},children:[(0,S.jsx)(b.Z,{sx:{minWidth:0,mr:1,ml:m?1:0},children:(0,S.jsx)("div",{children:o})}),(0,S.jsx)(w.Z,{primary:l,primaryTypographyProps:{sx:{fontWeight:E.typography.fontWeightBold,fontSize:E.typography.h6}}})]})}),h&&(0,S.jsx)(y.Z,{title:j,placement:"top",children:(0,S.jsxs)(Z.ZP,{disableGutters:!0,disablePadding:!0,sx:{flexDirection:x?"row-reverse":"row",cursor:"pointer"},children:[(0,S.jsx)(b.Z,{sx:{minWidth:0,mr:1,ml:x?1:0},children:(0,S.jsx)("div",{children:u})}),(0,S.jsx)(w.Z,{primary:h,primaryTypographyProps:{sx:{fontWeight:E.typography.fontWeightBold,fontSize:E.typography.h6,lineHeight:.5}}})]})})]}),(0,S.jsx)(D.Z,{sx:{background:(0,T.Fq)(E.palette.primary.light,.3),border:"dashed 1px ".concat(E.palette.primary.main),height:64,width:64,color:E.palette.primary.main},children:n})]}),!isNaN(+r)&&(0,S.jsxs)(s.Z,{direction:"row",spacing:.5,alignItems:"center",justifyContent:"flex-end",children:[(0,S.jsxs)(a.Z,{variant:"caption",fontWeight:"bold",sx:{color:+r>0?E.palette.success.main:E.palette.error.main},children:[r.startsWith("-")?Intl.NumberFormat("en",{maximumFractionDigits:2}).format(+r.slice(1)):Intl.NumberFormat("en",{maximumFractionDigits:2}).format(+r),"%"]}),(0,S.jsx)("div",{children:+r>0?(0,S.jsx)(C.Z,{size:"12",color:E.palette.success.main}):(0,S.jsx)(k.Z,{size:"12",color:E.palette.error.main})}),(0,S.jsxs)(a.Z,{variant:"caption",sx:{color:E.palette.text.secondary},children:["than last ",i]})]})]})},P=n(69780),I=n(77998),M=n(8546),F=n(15718),A=n(11942),O=n(50841),Y=n(72426),N=n.n(Y),W=n(72791),z=n(20601),B=n(38725),R=n(82839),K=n(90466),_=n(12891),L=n(35667),U=n(24714),$=n(24296),G=n(66254),V=n(82139),J=n(8694),H=n(76278),q=n(20653),Q=n(17875),X=n(14485),ee=function(e){var t=e.daysLeft,n=e.name,r=e.invoiceId,i=e.eventType,s=e.onClick;return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(H.Z,{onClick:s,children:(0,S.jsxs)(Z.ZP,{sx:{px:1,py:0},secondaryAction:0===t?(0,S.jsx)(a.Z,{fontSize:14,color:G.Z.palette.success.main,fontWeight:"bold",children:"Today"}):(0,S.jsxs)(a.Z,{fontSize:14,color:"error.main",fontWeight:"bold",children:[t,"Days"]}),children:[(0,S.jsx)(q.Z,{children:(0,S.jsx)(D.Z,{sx:{background:n?(0,J.ZZ)(n):X.Z.goldGradientMain,fontWeight:"bold"},children:n?n.charAt(0):(0,S.jsx)(Q.Z,{color:G.Z.palette.common.white,variant:"Bold"})})}),(0,S.jsx)(w.Z,{primary:(0,S.jsxs)(o.Z,{sx:{display:"flex",flexDirection:["column","row"]},children:[(0,S.jsxs)(a.Z,{children:["Order ID: ",r]}),(0,S.jsxs)(a.Z,{children:["~ ",i]})]}),secondary:n})]})})})},te=n(1413),ne=n(72466),re=n(71715),ie=n(79834),oe=n(15473),ae=n(36151),se=n(86544),le=n(37185),ce=n(51378),de=n(69338),ue=n(36571),he=n(58377),me=n(61134),xe=n(50937),pe=n(90388),fe=(0,n(66934).ZP)(pe.Z)((function(e){var t=e.theme;return{border:"none",borderRadius:8,background:t.palette.common.white,color:t.palette.primary.main,boxShadow:t.shadows[1],"&.Mui-selected":{background:t.palette.primary.main,color:t.palette.common.white,"&:hover":{background:t.palette.primary.main}}}})),ve=fe,je=n(85871),ge=n(62643),ye=n(84753),Ze=n(57689),be=n(61146),we=n.n(be),De=n(79836),Te=n(53382),Ce=n(35855),ke=n(53994),Se=(0,W.forwardRef)((function(e,t){var n=e.dateRange,r=e.dashTotal,i=null!==r&&void 0!==r&&r.totalProfits&&null!==r&&void 0!==r&&r.totalExpenses?(null===r||void 0===r?void 0:r.totalProfits)-(null===r||void 0===r?void 0:r.totalExpenses):0;return(0,S.jsxs)(o.Z,{ref:t,children:[(0,S.jsxs)(l.ZP,{container:!0,sx:{mb:4},children:[(0,S.jsx)(l.ZP,{item:!0,xs:7,children:(0,S.jsxs)(s.Z,{sx:{height:"100%"},alignItems:"flex-start",justifyContent:"center",spacing:.5,children:[(0,S.jsx)(a.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:16,children:"\u1798\u1784\u17d2\u1782\u179b\u179f\u17b7\u179a\u17b8\u1798\u17d2\u17a0\u17bc\u1794&\u178f\u17bb\u179a\u17c4\u1784\u1780\u17b6\u179a"}),(0,S.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,S.jsx)(a.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:16,children:"\u17a2\u17b6\u179f\u17d0\u1799\u178a\u17d2\u178b\u17b6\u1793\u200b\u17d6"}),(0,S.jsx)(a.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:16,children:"\u1794\u17bb\u179a\u17b8\u1788\u17bc\u1780\u179c\u17b6\u17e0\u17e3 \u1795\u17d2\u179b\u17bc\u179c\u179b\u17c1\u1781\u17e0\u17e3 \u1795\u17d2\u1791\u17c7\u179b\u17c1\u1781\u17e8\u17e2"})]}),(0,S.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,S.jsx)(a.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:16,children:"\u1791\u17bc\u179a\u179f\u17d0\u1796\u17d2\u1791\u179b\u17c1\u1781\u200b\u17d6"}),(0,S.jsx)(a.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:16,children:"+85581951133 | 011951133"})]})]})}),(0,S.jsx)(l.ZP,{item:!0,xs:5,children:(0,S.jsx)(D.Z,{variant:"square",src:"/images/mongkol_serey_logo_1000.png",alt:"logo",imgProps:{sx:{objectFit:"contain"}},sx:{mx:"auto",width:167,height:"auto",my:2}})})]}),(0,S.jsx)(a.Z,{textAlign:"center",fontFamily:"Moul",variant:"h5",children:"\u179a\u1794\u17b6\u1799\u1780\u17b6\u179a\u178e\u17cd"}),(0,S.jsx)("br",{}),(0,S.jsxs)(a.Z,{textAlign:"center",fontFamily:"Khmer Busra high",variant:"subtitle2",gutterBottom:!0,children:["\u1785\u17b6\u1794\u17cb\u1796\u17b8 \u17d6 ",n.startDate]}),(0,S.jsxs)(a.Z,{variant:"subtitle2",fontFamily:"Khmer Busra high",textAlign:"center",gutterBottom:!0,children:["\u178a\u179b\u17cb\u1791\u17b8 \u17d6 ",n.endDate]}),(0,S.jsx)(De.Z,{sx:{"& thead  th, tbody  td":{border:"1px solid black",borderCollapse:"collapse",fontFamily:"Khmer Busra high",py:1,color:"black",fontSize:16},"& thead th":{textAlign:"center"},"& .css-1b87so5-MuiTableCell-root":{color:"black"}},children:(0,S.jsxs)(Te.Z,{children:[(0,S.jsxs)(Ce.Z,{children:[(0,S.jsx)(ke.Z,{width:"50%",children:"\u1785\u17c6\u1793\u17bd\u1793\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u179f\u179a\u17bb\u1794"}),(0,S.jsxs)(ke.Z,{width:"50%",children:[null===r||void 0===r?void 0:r.totalOrders," \u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u200b"]})]}),(0,S.jsxs)(Ce.Z,{children:[(0,S.jsx)(ke.Z,{width:"50%",children:"\u1785\u17c6\u1793\u17bd\u1793\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u179f\u179a\u17bb\u1794"}),(0,S.jsxs)(ke.Z,{width:"50%",children:[null===r||void 0===r?void 0:r.totalCustomer," \u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793"]})]}),(0,S.jsxs)(Ce.Z,{children:[(0,S.jsx)(ke.Z,{width:"50%",children:"\u1785\u17c6\u1793\u17bd\u1793\u178f\u17bb\u179f\u179a\u17bb\u1794"}),(0,S.jsxs)(ke.Z,{width:"50%",children:[null===r||void 0===r?void 0:r.totalTables," \u178f\u17bb"]})]}),(0,S.jsxs)(Ce.Z,{children:[(0,S.jsx)(ke.Z,{width:"50%",children:"\u1785\u17c6\u178e\u17bc\u179b"}),(0,S.jsx)(ke.Z,{width:"50%",children:Intl.NumberFormat("en",{maximumFractionDigits:2,style:"currency",currency:"USD"}).format((null===r||void 0===r?void 0:r.totalProfits)||0)})]}),(0,S.jsxs)(Ce.Z,{children:[(0,S.jsx)(ke.Z,{width:"50%",children:"\u1785\u17c6\u178e\u17b6\u1799"}),(0,S.jsx)(ke.Z,{width:"50%",children:Intl.NumberFormat("en",{maximumFractionDigits:2,style:"currency",currency:"USD"}).format((null===r||void 0===r?void 0:r.totalExpenses)||0)})]}),(0,S.jsxs)(Ce.Z,{children:[(0,S.jsx)(ke.Z,{width:"50%",children:"\u1785\u17c6\u178e\u17c1\u1789"}),(0,S.jsx)(ke.Z,{width:"50%",children:Intl.NumberFormat("en",{maximumFractionDigits:2,style:"currency",currency:"USD"}).format(i)})]})]})})]})})),Ee=function(e){var t=e.dateRange,n=e.dashTotal,r=e.setDateRange,o=e.toggleValue,l=e.setToggleValue,c=W.useState(null),u=(0,i.Z)(c,2),h=u[0],m=u[1],x=W.useState(null),f=(0,i.Z)(x,2),v=f[0],y=f[1];(0,W.useEffect)((function(){var e=N()().weekday(0),t=N()().weekday(6);switch(o){case"month":return r({startDate:N()().startOf("month").format("YYYY-MM-DD"),endDate:N()().endOf("month").format("YYYY-MM-DD")});case"year":return r({startDate:N()().startOf("year").format("YYYY-MM-DD"),endDate:N()().endOf("year").format("YYYY-MM-DD")});case"week":return r({startDate:N()(e).format("YYYY-MM-DD"),endDate:N()(t).format("YYYY-MM-DD")});default:return}}),[o]);var b=(0,me.cI)(),T=b.handleSubmit,C=b.control,k=function(e){"notification"===e?m(null):"datepicker"===e&&y(null)},E=(0,xe.rN)(),I=E.reminderList,M=E.reminderLoading,F=null===I||void 0===I?void 0:I.filter((function(e){return 1===N()().diff(e.date,"years")})),A=(0,P.Z)(),Y=A.isSmDown,z=A.isMdDown,B=(0,g.Z)(),R=(0,Ze.s0)(),K=(0,W.useRef)(null);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(je.Z,{pageTitle:"Dashboard",children:(0,S.jsxs)(s.Z,{direction:"row",justifyContent:"flex-end",sx:{width:"100%",mt:{xs:2,md:0}},alignItems:"center",children:[(0,S.jsxs)(ne.Z,{value:o,exclusive:!0,fullWidth:!0,size:"small",onChange:function(e,t){null!==t&&l(t)},sx:{width:{xs:"100%",md:"30%"},height:40,mr:2},children:[(0,S.jsx)(ve,{value:"week",children:"Week"}),(0,S.jsx)(ve,{value:"month",children:"Month"}),(0,S.jsx)(ve,{value:"year",children:"Year"})]}),(0,S.jsx)(se.Q,{color:"primary",onClick:function(e){y(e.currentTarget)},sx:{mr:{xs:0,md:2}},children:(0,S.jsx)(le.Z,{size:"24",variant:"Outline"})}),!z&&(0,S.jsx)(we(),{pageStyle:J.mX,documentTitle:"All Reports",trigger:function(){return(0,S.jsx)(se.Q,{color:"primary",sx:{height:40},children:(0,S.jsx)(ce.Z,{size:"24",variant:"Outline"})})},content:function(){return K.current}})]})}),(0,S.jsx)(re.Z,{MenuListProps:{sx:{p:0}},sx:{mt:1,height:350},anchorEl:h,open:Boolean(h),onClose:function(){return k("notification")},children:(0,S.jsxs)(d.Z,{disablePadding:!0,sx:{width:400,px:2,pb:2},children:[(0,S.jsx)(ie.Z,{sx:{p:2,pl:0,background:function(e){return e.palette.common.white}},children:(0,S.jsx)(a.Z,{variant:"subtitle1",fontWeight:B.typography.fontWeightBold,children:"Anniverysary"})}),M?(0,S.jsx)(s.Z,{alignItems:"center",justifyContent:"center",height:"100%",children:(0,S.jsx)(j.W,{})}):F&&F.length>0?null===I||void 0===I?void 0:I.map((function(e){return 1===N()().diff(e.date,"years")&&(0,S.jsx)(H.Z,{onClick:function(){return R("".concat(p.u.orders,"?id=").concat(e.id))},children:(0,S.jsxs)(Z.ZP,{sx:{px:1,py:0},secondaryAction:(0,S.jsx)(a.Z,{fontSize:14,color:B.palette.success.main,fontWeight:"bold",children:"Today"}),children:[(0,S.jsx)(q.Z,{children:(0,S.jsx)(D.Z,{sx:{background:X.Z.goldGradientMain,fontWeight:"bold"},children:null!==e.customer?e.customer.customer_name.charAt(0).toUpperCase():(0,S.jsx)(Q.Z,{color:B.palette.common.white,variant:"Bold"})})}),(0,S.jsx)(w.Z,{primary:"Order ID: ".concat(e.id," ~ ").concat(e.type),secondary:null===e.customer?"No Customer":e.customer.customer_name})]})},e.id)})):(0,S.jsxs)(s.Z,{alignItems:"center",justifyContent:"center",height:"100%",spacing:1,children:[(0,S.jsx)(O.Z,{size:"48",color:B.palette.error.main}),(0,S.jsx)(a.Z,{variant:"h6",color:"error",children:"No Notification"})]})]})}),(0,S.jsx)(oe.ZP,{id:Boolean(v)?"simple-popover":void 0,open:Boolean(v),anchorEl:v,onClose:function(){return k("datepicker")},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{mt:1},children:(0,S.jsx)("form",{style:{height:"100%"},onSubmit:T((function(e){r({startDate:N()(e.startDate).format("YYYY-MM-DD"),endDate:N()(e.endDate).format("YYYY-MM-DD")}),l(null)})),children:(0,S.jsxs)(s.Z,{sx:{p:2,height:"100%"},spacing:2,children:[(0,S.jsx)(ue._,{dateAdapter:de.H,children:(0,S.jsxs)(s.Z,{direction:Y?"column":"row",spacing:2,children:[(0,S.jsx)(me.Qr,{control:C,name:"startDate",render:function(e){var t=e.field;return(0,S.jsx)(ye.Z,{label:"Start date",children:(0,S.jsx)(he.M,{openTo:"day",views:["year","month","day"],value:t.value,onChange:function(e){t.onChange(e)},renderInput:function(e){return(0,S.jsx)(ge.Z,(0,te.Z)({},e))}})})}}),(0,S.jsx)(me.Qr,{control:C,name:"endDate",render:function(e){var t=e.field;return(0,S.jsx)(ye.Z,{label:"End date",children:(0,S.jsx)(he.M,{openTo:"day",views:["year","month","day"],value:t.value,onChange:function(e){t.onChange(e)},renderInput:function(e){return(0,S.jsx)(ge.Z,(0,te.Z)({},e))}})})}})]})}),(0,S.jsx)(ae.Z,{variant:"contained",type:"submit",onClick:function(){return k("datepicker")},sx:{width:"100%",color:function(e){return e.palette.common.white},borderRadius:2,boxShadow:0,py:1},children:"Confirm"})]})})}),(0,S.jsx)("div",{style:{display:"none"},children:(0,S.jsx)(Se,{ref:K,dateRange:t,dashTotal:n})})]})},Pe=n(73909),Ie=n(21041),Me=n(41048),Fe=[G.Z.palette.primary.main,G.Z.palette.success.main,G.Z.palette.warning.main,G.Z.palette.error.main],Ae=function(e){var t=e.dashTotal,n=[{name:"Wedding",value:null===t||void 0===t?void 0:t.eventType.Wedding},{name:"Birthday",value:null===t||void 0===t?void 0:t.eventType.Birthday},{name:"Party",value:null===t||void 0===t?void 0:t.eventType.Party},{name:"Other",value:null===t||void 0===t?void 0:t.eventType.Other}];return(0,S.jsx)(z.h,{width:"100%",height:"65%",children:(0,S.jsxs)(Pe.u,{margin:{bottom:24,left:56,right:56},children:[(0,S.jsx)($.D,{}),(0,S.jsx)(L.u,{}),(0,S.jsx)(Ie.b,{data:n,innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:n.map((function(e,t){return(0,S.jsx)(Me.b,{fill:Fe[t%Fe.length]},"cell-".concat(t))}))})]})})},Oe=n(32451),Ye=function(){var e=N()().weekday(0),t=N()().weekday(6),n=(0,W.useState)(N()()),h=(0,i.Z)(n,2),m=h[0],x=h[1],f=(0,W.useState)("week"),g=(0,i.Z)(f,2),y=g[0],Z=g[1],b=(0,W.useState)({startDate:N()(e).format("YYYY-MM-DD"),endDate:N()(t).format("YYYY-MM-DD")}),w=(0,i.Z)(b,2),D=w[0],T=w[1],C=(0,W.useState)(!1),k=(0,i.Z)(C,2),Y=k[0],H=k[1],q=(0,P.Z)().isMdDown,Q=(0,Ze.s0)(),X=(0,Oe.Z)(v.getTotals,{manual:!0,onSuccess:function(){return H(!1)}}),te=X.data,ne=X.run,re=X.loading,ie=(0,Oe.Z)(v.getCharts,{manual:!1}),oe=ie.data,ae=ie.loading;(0,W.useEffect)((function(){ne({startDate:D.startDate,endDate:D.endDate})}),[D]),(0,W.useEffect)((function(){H(!0)}),[y]),(0,W.useEffect)((function(){var e=setInterval((function(){x(N()())}),1e3);return function(){return clearInterval(e)}}),[]);var se=null===oe||void 0===oe?void 0:oe.charts.map((function(e){return{name:V.Pk[e.month],Events:e.amount}})),le=null===oe||void 0===oe?void 0:oe.charts.map((function(e){return{name:V.Pk[e.month],Sales:e.profits,Expenses:e.expenses}})),ce=function(e){if(null!==oe&&void 0!==oe&&oe.charts){var t,n=(0,r.Z)(oe.charts);return(n=null===(t=n)||void 0===t?void 0:t.filter((function(t){return t.amount===e})))[0].tables}},de=function(e){var t=e.active,n=e.payload,r=e.label;return t&&n&&n.length?(0,S.jsxs)(o.Z,{sx:{background:function(e){return e.palette.background.default},p:1,boxShadow:function(e){return e.shadows[1]}},children:[(0,S.jsx)(a.Z,{children:r}),(0,S.jsxs)(a.Z,{color:"primary.main",children:["Events: ",n[0].value]}),(0,S.jsxs)(a.Z,{color:"info.main",children:["Tables: ",ce(parseInt(n[0].value))]})]}):null};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Ee,{setDateRange:T,fetchDashTotal:ne,setToggleValue:Z,toggleValue:y,dashTotal:te,dateRange:D}),re&&ae?(0,S.jsx)(s.Z,{sx:{height:"calc( 100vh - 74px )"},justifyContent:"center",alignItems:"center",children:(0,S.jsx)(j.W,{})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(s.Z,{direction:"row",children:(0,S.jsx)(l.ZP,{container:!0,spacing:2,px:2,children:re?(0,S.jsx)(l.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"146px"},children:(0,S.jsx)(j.W,{})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:6,lg:!0,children:(0,S.jsx)(E,{title:"Total Profits",primaryTooltip:"".concat(Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format(null!==te&&void 0!==te&&te.totalProfits?(null===te||void 0===te?void 0:te.totalProfits)-(null===te||void 0===te?void 0:te.totalExpenses):0)),value:"".concat(null===oe||void 0===oe?void 0:oe.Percentage.totalProfits[+V.V2["".concat(y)]]),icon:(0,S.jsx)(I.Z,{}),endTitle:"".concat(y),primaryIcon:(0,S.jsx)(a.Z,{variant:"h6",sx:{color:function(e){return e.palette.info.main}},children:"$"}),primaryText:(0,J.p7)(null!==te&&void 0!==te&&te.totalProfits?(null===te||void 0===te?void 0:te.totalProfits)-(null===te||void 0===te?void 0:te.totalExpenses):0)})}),(0,S.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:6,lg:!0,children:(0,S.jsx)(E,{title:"Total Expenses",icon:(0,S.jsx)(M.Z,{}),endTitle:"".concat(y),primaryTooltip:"".concat(Intl.NumberFormat("en",{style:"currency",currency:"USD"}).format((null===te||void 0===te?void 0:te.totalExpenses)||0)),value:"".concat(null===oe||void 0===oe?void 0:oe.Percentage.totalExpenses[+V.V2["".concat(y)]]),primaryIcon:(0,S.jsx)(a.Z,{variant:"h6",sx:{color:function(e){return e.palette.info.main}},children:"$"}),primaryText:(0,J.p7)((null===te||void 0===te?void 0:te.totalExpenses)||0)})}),(0,S.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:6,lg:!0,children:(0,S.jsx)(E,{title:"Total Orders",endTitle:"".concat(y),primaryTooltip:"".concat(Intl.NumberFormat().format((null===te||void 0===te?void 0:te.totalOrders)||0)),secondaryTooltip:"".concat((null===te||void 0===te?void 0:te.totalTables)||0),icon:(0,S.jsx)(F.Z,{}),primaryReverse:!0,secondaryReverse:!0,primaryIcon:(0,S.jsx)(a.Z,{variant:"caption",sx:{color:function(e){return e.palette.info.main}},children:"Events"}),secondaryIcon:(0,S.jsx)(a.Z,{variant:"caption",sx:{color:function(e){return e.palette.info.main}},children:"Tables"}),value:"".concat(null===oe||void 0===oe?void 0:oe.Percentage.totalOrders[+V.V2["".concat(y)]]),primaryText:"".concat((0,J.p7)((null===te||void 0===te?void 0:te.totalOrders)||0)),secondaryText:"".concat((0,J.p7)((null===te||void 0===te?void 0:te.totalTables)||0))})}),(0,S.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:6,lg:!0,children:(0,S.jsx)(E,{title:"Total Customers",endTitle:"".concat(y),primaryReverse:!0,primaryTooltip:"".concat(Intl.NumberFormat().format((null===te||void 0===te?void 0:te.totalCustomer)||0)),primaryIcon:(0,S.jsx)(a.Z,{variant:"caption",sx:{color:function(e){return e.palette.info.main}},children:"Customers"}),icon:(0,S.jsx)(A.Z,{}),value:"".concat(null===oe||void 0===oe?void 0:oe.Percentage.totalCustomer[+V.V2["".concat(y)]]),primaryText:"".concat((null===te||void 0===te?void 0:te.totalCustomer)||0)})})]})})}),(0,S.jsxs)(s.Z,{mt:2,px:2,direction:{xs:"column-reverse",md:"row"},spacing:2,height:{xs:1020,md:400},children:[(0,S.jsxs)(c.Z,{elevation:1,sx:{width:{xs:"100%",md:"60%"},py:3,pr:5},children:[(0,S.jsx)(a.Z,{fontWeight:500,variant:"h5",ml:5,mb:3,children:"Events"}),(0,S.jsx)(z.h,{width:"100%",height:"90%",children:(0,S.jsxs)(B.v,{data:se,barSize:25,layout:q?"vertical":"horizontal",children:[(0,S.jsx)(R.q,{vertical:!1}),q?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(K.K,{type:"number",domain:[0,20]}),(0,S.jsx)(_.B,{dataKey:"name",type:"category"})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(K.K,{dataKey:"name"}),(0,S.jsx)(_.B,{domain:[0,20]})]}),(0,S.jsx)(L.u,{content:(0,S.jsx)(de,{})}),(0,S.jsx)(U.$,{dataKey:"Events",fill:G.Z.palette.primary.main,orientation:"top"})]})})]}),(0,S.jsxs)(c.Z,{sx:{flexGrow:1,height:"100%",overflow:"auto"},children:[(0,S.jsx)(a.Z,{fontWeight:600,fontSize:18,px:3,pt:3,pb:2,position:"sticky",top:0,zIndex:G.Z.zIndex.appBar-1,bgcolor:"common.white",children:"Upcoming Event"}),oe&&(null===oe||void 0===oe?void 0:oe.reminder.length)>0?(0,S.jsx)(d.Z,{sx:{bgcolor:"common.white",p:0},children:null===oe||void 0===oe?void 0:oe.reminder.map((function(e,t){var n=N().duration(N()(e.date).diff(m));return(0,S.jsx)(ee,{onClick:function(){return Q("".concat(p.u.orders,"?id=").concat(e.id))},daysLeft:n.days(),name:null!==e.customer?e.customer.customer_name:"No Customer",invoiceId:e.id,eventType:e.type},e.id)}))}):(0,S.jsxs)(s.Z,{direction:"column",alignItems:"center",justifyContent:"center",spacing:1,sx:{height:"calc(100% - 100px)"},children:[(0,S.jsx)(O.Z,{size:"64",color:G.Z.palette.error.main}),(0,S.jsx)(a.Z,{variant:"body1",color:"error",children:"No upcoming event"})]})]})]}),(0,S.jsxs)(s.Z,{mt:2,px:2,direction:{xs:"column",md:"row"},spacing:2,height:{xs:1300,md:400},mb:4,children:[(0,S.jsxs)(c.Z,{elevation:1,sx:{width:{xs:"100%",md:"60%"},height:{xs:"auto",md:"auto"},py:3,pr:5},children:[(0,S.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,S.jsx)(a.Z,{fontWeight:500,variant:"h5",ml:5,mb:3,children:"Sales Report"}),(0,S.jsx)(a.Z,{fontWeight:500,variant:"subtitle1",mb:3,children:re||Y?"Calculating Income...":"".concat("Total Income: $"+(0,J.EA)(null!==te&&void 0!==te&&te.totalProfits?null===te||void 0===te?void 0:te.totalProfits:0)).concat(y?"/this ".concat(y):"/specific date")})]}),(0,S.jsx)(z.h,{width:"100%",height:q?400:"85%",children:(0,S.jsxs)(B.v,{data:le,barSize:15,layout:"horizontal",children:[(0,S.jsx)(R.q,{vertical:!1}),(0,S.jsx)(K.K,{dataKey:"name"}),(0,S.jsx)(_.B,{type:"number",domain:[0,1e5],tickFormatter:J.p7}),(0,S.jsx)(L.u,{}),(0,S.jsx)($.D,{}),(0,S.jsx)(U.$,{dataKey:"Sales",fill:G.Z.palette.success.main}),(0,S.jsx)(U.$,{dataKey:"Expenses",fill:G.Z.palette.error.main})]})})]}),(0,S.jsxs)(c.Z,{className:"hide-scrollbar",sx:{px:3,flexGrow:1,overflow:"auto",height:{xs:"auto",md:"100%"},position:"relative"},children:[(0,S.jsx)(a.Z,{fontWeight:600,fontSize:18,pt:3,pb:2,position:"sticky",top:0,zIndex:G.Z.zIndex.appBar,bgcolor:"common.white",children:"Type of Event"}),(0,S.jsx)(Ae,{dashTotal:te}),(0,S.jsx)(o.Z,{position:"absolute",bottom:0,left:0,width:"100%",px:3,children:(0,S.jsx)(u.Z,{sx:{borderBottomWidth:.1,borderColor:G.Z.palette.divider}})})]})]})]})]})}},82139:function(e,t,n){n.d(t,{F5:function(){return f},Pk:function(){return r},V2:function(){return v},VC:function(){return j},cF:function(){return c},cW:function(){return x},d9:function(){return d},lh:function(){return h},mV:function(){return p},oQ:function(){return u},qs:function(){return m},u7:function(){return l}});var r,i=n(76053),o=n(16856),a=n(66254),s=n(80184),l=["Cash","ABA","ACLEDA","WING","BAKONG","CANADIA","TRUE MONEY"],c={ACLEDA:"#143c6d",ABA:"#005b7a",WING:"#a4c535",BAKONG:"#dc222c",CANADIA:"#D61229",Cash:"#BB9300","TRUE MONEY":"#f88a30"},d=["\u178f\u17bb","\u1785\u17b6\u1793","\u1781\u17d2\u1791\u17c7","\u1793\u17b6\u1780\u17cb","\u1788\u17bb\u178f","m\xb2","\u1782\u17d2\u179a\u17bf\u1784","\u1794\u17d2\u179a\u17a1\u17c4\u17c7","pcs"],u=["Wedding","Birthday","Party","House Warming","Engagement"];i.OhZ,o.Tbc,a.Z.palette.common.black;!function(e){e[e.Jan=1]="Jan",e[e.Feb=2]="Feb",e[e.Mar=3]="Mar",e[e.Apr=4]="Apr",e[e.May=5]="May",e[e.Jun=6]="Jun",e[e.Jul=7]="Jul",e[e.Aug=8]="Aug",e[e.Sep=9]="Sep",e[e.Oct=10]="Oct",e[e.Nov=11]="Nov",e[e.Dec=12]="Dec"}(r||(r={}));var h,m,x,p,f={January:"\u1798\u1780\u179a\u17b6",February:"\u1780\u17bb\u1798\u17d2\u1797\u17c8",March:"\u1798\u17b7\u1793\u17b6",April:"\u1798\u17c1\u179f\u17b6",May:"\u17a7\u179f\u1797\u17b6",June:"\u1798\u17b7\u1790\u17bb\u1793\u17b6",July:"\u1780\u1780\u17d2\u1780\u178a\u17b6",August:"\u179f\u17b8\u17a0\u17b6",September:"\u1780\u1789\u17d2\u1789\u17b6",October:"\u178f\u17bb\u179b\u17b6",November:"\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6",December:"\u1792\u17d2\u1793\u17bc"},v={week:0,month:1,year:2};!function(e){e.POTENTIAL_CUSTOMER="POTENTIAL_CUSTOMER",e.CUSTOMER="CUSTOMER"}(h||(h={})),function(e){e.OTHER="OTHER",e.MALE="MALE",e.FEMALE="FEMALE"}(m||(m={})),function(e){e.FB="FB",e.TG="TG"}(x||(x={})),function(e){e.STOCK="STOCK",e.NON_STOCK="NON_STOCK"}(p||(p={}));var j={STOCK:"\u1798\u17b6\u1793\u1780\u17d2\u1793\u17bb\u1784\u179f\u17d2\u178f\u17bb\u1780",NON_STOCK:"\u1798\u17b7\u1793\u1798\u17b6\u1793\u179f\u17d2\u178f\u17bb\u1780"}},8694:function(e,t,n){n.d(t,{EA:function(){return i},V0:function(){return r},WH:function(){return l},ZZ:function(){return o},mX:function(){return s},p7:function(){return a}});var r={phoneNumber:/0[0-9]{8}$|0[0-9]{9}$/,numberOnly:/^-?[0-9]\d*(\.\d+)?$/,positiveNumberOnly:/^(0*[1-9][0-9]*(\.[0-9]+)?|0+\.[0-9]*[1-9][0-9]*)$/,positiveNumberOnlyandEmpty:/$^|^[0-9]\d*(\.\d+)?\.?$/,email:/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,textOnly:/^[a-zA-Z ]*$/},i=function(e){return e<1e3||e>=1e3&&e<1e6?e.toLocaleString(void 0,{minimumFractionDigits:2}):e>=1e6&&e<1e9?+(e/1e6).toFixed(1)+"M":e>=1e9&&e<1e12?+(e/1e9).toFixed(1)+"B":e>=1e12?+(e/1e12).toFixed(1)+"T":void 0},o=function(e){var t,n=0;if(e)for(t=0;t<e.length;t+=1)n=e.charCodeAt(t)+((n<<5)-n);var r="#";for(t=0;t<3;t+=1){r+="00".concat((n>>8*t&255).toString(16)).slice(-2)}return r},a=function(e){return Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"}).format(e)},s=" @page {\n  size: A4;\n  margin:2.54cm;\n}\n\n@media all {\n  .pagebreak {\n    display: none;\n  }\n}\n\n@media print {\n  .pagebreak {\n    page-break-before: always;\n  }\n}",l=" @page {\n  size: A4;\n  margin:1mm;\n}\n\n@media all {\n  .pagebreak {\n    display: none;\n  }\n}\n\n@media print {\n  .pagebreak {\n    page-break-before: always;\n  }\n}"}}]);
//# sourceMappingURL=6642.30f1d28d.chunk.js.map
"use strict";(self.webpackChunkmongkol_serey_cms=self.webpackChunkmongkol_serey_cms||[]).push([[4469],{40997:function(e,t,r){r.d(t,{I8:function(){return s},XC:function(){return o},lx:function(){return d},y1:function(){return l}});var n=r(1413),a=r(74165),c=r(15861),i=r(38233),u=r(17657),o={stockDetail:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,i.Z.get(u.J.stockDetail.replace(":id","".concat(r)));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stockList:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.search,e.next=3,i.Z.get(u.J.stockList,{params:{search:r}});case 3:return n=e.sent,e.abrupt("return",n.response);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stockReportsList:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.search,e.next=3,i.Z.get(u.J.stockReportList,{params:{search:r}});case 3:return n=e.sent,e.abrupt("return",n.response);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteStock:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.delete(u.J.deleteStock.replace(":id","".concat(t.id)));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createStock:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.post(u.J.createStock,t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateStock:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.put(u.J.updateStock.replace(":id","".concat(t.id)),t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stockAction:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=4;break}return e.abrupt("return",o.updateStock((0,n.Z)({id:t.id},t)));case 4:return e.abrupt("return",o.createStock(t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},s={productList:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.search,e.next=3,i.Z.get(u.J.productList,{params:{search:r}});case 3:return n=e.sent,e.abrupt("return",n.response);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),productDetail:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,i.Z.get(u.J.productDetail.replace(":id","".concat(r)));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteProduct:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.delete(u.J.deleteProduct.replace(":id","".concat(t.id)));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createProduct:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.post(u.J.createProduct,t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateProduct:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.put(u.J.updateProduct.replace(":id","".concat(t.id)),t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),productAction:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=4;break}return e.abrupt("return",s.updateProduct((0,n.Z)({id:t.id},t)));case 4:return e.abrupt("return",s.createProduct(t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l={unitDetail:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,i.Z.get(u.J.unitDetail.replace(":id","".concat(r)));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),unitList:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.search,e.next=3,i.Z.get(u.J.unitList,{params:{search:r}});case 3:return n=e.sent,e.abrupt("return",n.response);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteUnit:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.delete(u.J.deleteUnit.replace(":id","".concat(t.id)));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createUnit:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.post(u.J.createUnit,t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateUnit:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.put(u.J.updateUnit.replace(":id","".concat(t.id)),t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),unitAction:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=4;break}return e.abrupt("return",l.updateUnit((0,n.Z)({id:t.id},t)));case 4:return e.abrupt("return",l.createUnit(t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d={categoryDetail:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,i.Z.get(u.J.stockCategoryDetail.replace(":id","".concat(r)));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),categoryList:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.search,e.next=3,i.Z.get(u.J.stockCategoryList,{params:{search:r}});case 3:return n=e.sent,e.abrupt("return",n.response);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createCategory:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.post(u.J.stockCreateCategory,t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteCategory:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.delete(u.J.stockDeleteCategory.replace(":id","".concat(t.id)));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateCategory:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.put(u.J.stockUpdateCategory.replace(":id","".concat(t.id)),t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),categoryAction:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=4;break}return e.abrupt("return",d.updateCategory((0,n.Z)({id:t.id},t)));case 4:return e.abrupt("return",d.createCategory(t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},20685:function(e,t,r){var n=r(74165),a=r(15861),c=r(38233),i=r(17657),u={getSupplierList:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,u,o,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.page,a=t.search,u=t.size,o=t.type,e.next=3,c.Z.get(i.J.suppliersList,{params:{page:r,size:u||10,search:a,type:o}});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSupplierDetails:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,c.Z.get(i.J.suppliersDetails.replace(":id","".concat(r)));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postNewSupplier:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,e.next=3,c.Z.post(i.J.addNewSupplier,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateSupplier:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=t.id,e.next=3,c.Z.put(i.J.updateSupplier.replace(":id","".concat(a)),r);case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteSupplier:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,c.Z.delete(i.J.deleteSupplier.replace(":id","".concat(r)));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.Z=u},20473:function(e,t,r){var n=r(74165),a=r(15861),c=r(74569),i=r.n(c),u="5683327648:AAForuzEywsdCCXFlR04En_Gl7pD34poVl4",o={uploadFile:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("document",t),r.append("chat_id","-4033752446"),e.next=5,i().post("https://api.telegram.org/bot".concat(u,"/sendDocument"),r);case 5:return a=e.sent,e.next=8,i().post("https://api.telegram.org/bot".concat(u,"/getFile"),{file_id:a.data.result.document.file_id});case 8:return c=e.sent,e.abrupt("return",{path:"https://api.telegram.org/file/bot".concat(u,"/").concat(c.data.result.file_path)});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.Z=o},39421:function(e,t,r){r.d(t,{W:function(){return c}});var n=r(72791),a=r(80184),c=n.memo((function(){return(0,a.jsxs)("div",{className:"lds-facebook",children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{})]})}))},4469:function(e,t,r){r.r(t),r.d(t,{default:function(){return U}});var n=r(74165),a=r(1413),c=r(15861),i=r(29439),u=r(68870),o=r(61889),s=r(53767),l=r(35527),d=r(89437),p=r(61134),f=r(93433),Z=r(23786),m=r(84753),h=r(32451),v=r(40997),x=r(20685),g=r(82139),y=r(11087),b=r(80184),k=function(){var e=(0,y.lr)(),t=(0,i.Z)(e,1)[0].get("stockId"),r=(0,p.Gc)(),n=r.control,c=r.watch,u=(0,h.Z)((function(){return v.y1.unitList({search:""})}),{ready:!t}),s=u.data,l=u.loading,d=(0,h.Z)((function(){return v.lx.categoryList({search:""})})),k=d.loading,w=d.data,j=(0,h.Z)((function(){return x.Z.getSupplierList({size:1e3,type:g.lh.CUSTOMER})})),C=j.data,S=j.loading;return(0,b.jsxs)(o.ZP,{container:!0,maxWidth:"sm",width:"100%",spacing:2,alignSelf:"center",minHeight:700,children:[(0,b.jsx)(o.ZP,{item:!0,xs:6,children:(0,b.jsx)(p.Qr,{control:n,name:"category",render:function(e){var r=e.field,n=e.fieldState;return(0,b.jsx)(m.Z,(0,a.Z)((0,a.Z)({select:!!w,size:"small",label:"Category",disabled:k||!!t,fieldState:n},r),{},{menutItems:w&&[(0,b.jsx)(Z.Z,{value:"",disabled:!0},"-1")].concat((0,f.Z)(w.map((function(e){return(0,b.jsx)(Z.Z,{value:e.id,children:e.name},e.id)}))))}))}})}),(0,b.jsx)(o.ZP,{item:!0,xs:6,children:(0,b.jsx)(p.Qr,{control:n,name:"product.name",render:function(e){var r=e.field,n=e.fieldState;return(0,b.jsx)(m.Z,(0,a.Z)({size:"small",label:"Product name",disabled:!!t,fieldState:n},r))}})}),(0,b.jsx)(o.ZP,{item:!0,xs:6,children:(0,b.jsx)(p.Qr,{control:n,name:"suppliers.id",render:function(e){var t=e.field,r=e.fieldState;return(0,b.jsx)(m.Z,(0,a.Z)((0,a.Z)({select:!!C,size:"small",label:"Supplier",fieldState:r,disabled:S},t),{},{menutItems:C&&[(0,b.jsx)(Z.Z,{value:"",disabled:!0},"-1")].concat((0,f.Z)(C.response.map((function(e){return(0,b.jsxs)(Z.Z,{value:e.id,children:[e.firstName," ",e.lastName]},e.id)}))))}))}})}),(0,b.jsx)(o.ZP,{item:!0,xs:6,children:(0,b.jsx)(p.Qr,{control:n,name:"paidBy",render:function(e){var t=e.field,r=e.fieldState;return(0,b.jsx)(m.Z,(0,a.Z)((0,a.Z)({select:!0,size:"small",label:"Payment method",InputProps:{sx:{color:g.cF[c("paidBy")],fontWeight:"bold"}},fieldState:r},t),{},{menutItems:[(0,b.jsx)(Z.Z,{value:"",disabled:!0},"-1")].concat((0,f.Z)(g.u7.map((function(e){return(0,b.jsx)(Z.Z,{value:e,children:e},e)}))))}))}})}),(0,b.jsx)(o.ZP,{item:!0,xs:9,children:(0,b.jsx)(p.Qr,{control:n,name:"defaultUnitQty",render:function(e){var t=e.field,r=e.fieldState;return(0,b.jsx)(m.Z,(0,a.Z)({size:"small",type:"number",label:"Quantity in stock",fieldState:r},t))}})}),(0,b.jsx)(o.ZP,{item:!0,xs:3,children:(0,b.jsx)(p.Qr,{control:n,name:t?"unit.name":"unit.id",render:function(e){var r=e.field,n=e.fieldState;return(0,b.jsx)(m.Z,(0,a.Z)({size:"small",select:!t&&!!s,label:"Unit",disabled:l||!!t,fieldState:n,menutItems:s&&[(0,b.jsx)(Z.Z,{value:"",disabled:!0},"-1")].concat((0,f.Z)(s.map((function(e){return(0,b.jsx)(Z.Z,{value:e.id,children:e.name},e.id)}))))},r))}})}),!t&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.ZP,{item:!0,xs:6,children:(0,b.jsx)(p.Qr,{control:n,name:"unitPrice",render:function(e){var t=e.field,r=e.fieldState;return(0,b.jsx)(m.Z,(0,a.Z)({size:"small",type:"number",label:"Unit price",fieldState:r},t))}})}),(0,b.jsx)(o.ZP,{item:!0,xs:6,children:(0,b.jsx)(p.Qr,{control:n,name:"currency.id",render:function(e){var t=e.field,r=e.fieldState;return(0,b.jsx)(m.Z,(0,a.Z)({size:"small",select:!0,label:"Currency",fieldState:r,menutItems:[(0,b.jsx)(Z.Z,{value:1,children:"Riel"},1),(0,b.jsx)(Z.Z,{value:2,children:"Dollar"},2)]},t))}})})]}),(0,b.jsx)(o.ZP,{item:!0,xs:6,children:(0,b.jsx)(p.Qr,{control:n,name:"priceUsd",render:function(e){var t=e.field,r=e.fieldState;return(0,b.jsx)(m.Z,(0,a.Z)({size:"small",type:"number",label:"Cost Dollar",fieldState:r},t))}})}),(0,b.jsx)(o.ZP,{item:!0,xs:6,children:(0,b.jsx)(p.Qr,{control:n,name:"priceKh",render:function(e){var t=e.field,r=e.fieldState;return(0,b.jsx)(m.Z,(0,a.Z)({size:"small",type:"number",label:"Cost Riel",fieldState:r},t))}})})]})},w=r(36151),j=r(93044),C=r(20890),S=r(95101),A=r(18365),E=r(20473),M=function(){var e=(0,p.Gc)(),t=e.setValue,r=e.watch,n=(0,h.Z)(E.Z.uploadFile,{manual:!0,onError:function(){t("product.images","")},onSuccess:function(e){t("product.images",e.path)}}),a=n.run,c=n.loading;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(s.Z,{width:"100%",alignItems:"center",maxWidth:"sm",alignSelf:"center",spacing:2,children:[(0,b.jsxs)(w.Z,{component:"label",sx:{opacity:c?.5:1,p:0,border:"solid 1px",borderColor:"divider",bgcolor:"transparent",width:"100%",aspectRatio:"1 / 1"},color:"inherit",children:[(0,b.jsx)(j.Z,{src:r("product.images"),variant:"rounded",sx:{cursor:"pointer",bgcolor:"grey.100",width:"100%",height:"100%"},children:(0,b.jsxs)(s.Z,{justifyContent:"center",alignItems:"center",spacing:1,color:"grey.500",children:[(0,b.jsx)(S.Z,{variant:"Bulk",size:28}),(0,b.jsx)(C.Z,{variant:"subtitle2",textTransform:"none",children:"Upload Product Photo"})]})}),(0,b.jsx)("input",{type:"file",hidden:!0,accept:"image/jpeg, image/png",onChange:function(e){return(0,A.I)(e,(function(e,r){t("product.images",e),a(r)}))}})]}),(0,b.jsx)(C.Z,{color:"text.secondary",variant:"subtitle2",whiteSpace:"pre-line",textAlign:"center",children:"Allowed *.jpeg, *.jpg, *.png max size of 2MB"})]})})},O=r(57689),L=r(39709),P=r(14485),F=r(39421),J=r(17657),U=function(){var e,t=(0,y.lr)(),r=(0,i.Z)(t,1)[0],f=(0,O.s0)(),Z=(0,O.UO)(),m=(0,p.cI)({defaultValues:{discount:0,currency:{id:2},expiryDate:"",paidBy:"",priceKh:0,priceUsd:0,defaultUnitQty:0,unitPrice:0,suppliers:"",unit:""}}),x=Z.id,g=r.get("stockId"),w=null===(e=m.watch("product.images"))||void 0===e?void 0:e.includes("data:image/jpeg;base64"),j=(0,h.Z)(v.XC.stockAction,{onSuccess:function(){return f(J.u.inventories.root)},manual:!0}),C=j.loading,S=j.run,A=(0,h.Z)(v.I8.productAction,{manual:!0}),E=A.loading,U=A.runAsync,I=(0,h.Z)((function(){return v.XC.stockDetail({id:g||x})}),{onSuccess:function(e){m.setValue("paidBy",e.paidBy),m.setValue("product.id",e.product.id),m.setValue("product.name",e.product.name),m.setValue("product.images",e.product.images),m.setValue("category",e.product.category.id),e.unit&&m.setValue("unit.id",e.unit.id),e.unit&&m.setValue("unit.name",e.unit.name),e.suppliers&&m.setValue("suppliers.id",e.suppliers.id),x&&(m.setValue("id",x),m.setValue("currency.id",e.currency.id),m.setValue("unitPrice",e.unitPrice),m.setValue("defaultUnitQty",e.unitQty),m.setValue("priceKh",e.priceKh),m.setValue("priceUsd",e.priceUsd))},ready:!!g||!!x}).loading,T=function(){var e=(0,c.Z)((0,n.Z)().mark((function e(t){var r,c,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({id:t.product.id,name:null!==(r=t.product.name)&&void 0!==r?r:"",images:null!==(c=t.product.images)&&void 0!==c?c:"",category:{id:t.category}});case 2:i=e.sent,S((0,a.Z)((0,a.Z)({},t),{},{defaultUnitQty:+t.defaultUnitQty,priceUsd:+t.priceUsd,priceKh:+t.priceKh,product:{id:i.id}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return I?(0,b.jsx)(u.Z,{height:"80vh",sx:{display:"grid",placeItems:"center"},children:(0,b.jsx)(F.W,{})}):(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("form",{onSubmit:m.handleSubmit(T),children:[(0,b.jsx)(d.Z,{sticky:!0,title:x?"Update Inventory":g?"Add stock for ".concat(m.watch("product.name")):"Add New Inventory",appBarSx:{bgcolor:"background.paper"},endComponent:(0,b.jsx)(L.Z,{variant:"contained",type:"submit",loading:C||E||w,sx:{background:P.Z.goldGradientMain},children:"Save"})}),(0,b.jsx)(p.RV,(0,a.Z)((0,a.Z)({},m),{},{children:(0,b.jsxs)(o.ZP,{container:!0,p:3,pt:0,spacing:3,children:[(0,b.jsx)(o.ZP,{item:!0,xs:8,children:(0,b.jsx)(s.Z,{component:l.Z,p:2,children:(0,b.jsx)(k,{})})}),(0,b.jsx)(o.ZP,{item:!0,xs:4,children:(0,b.jsx)(s.Z,{component:l.Z,p:2,children:(0,b.jsx)(M,{})})})]})}))]})})}},82139:function(e,t,r){r.d(t,{F5:function(){return h},Pk:function(){return n},V2:function(){return v},VC:function(){return x},cF:function(){return s},cW:function(){return Z},d9:function(){return l},lh:function(){return p},mV:function(){return m},oQ:function(){return d},qs:function(){return f},u7:function(){return o}});var n,a=r(76053),c=r(16856),i=r(66254),u=r(80184),o=["Cash","ABA","ACLEDA","WING","BAKONG","CANADIA","TRUE MONEY"],s={ACLEDA:"#143c6d",ABA:"#005b7a",WING:"#a4c535",BAKONG:"#dc222c",CANADIA:"#D61229",Cash:"#BB9300","TRUE MONEY":"#f88a30"},l=["\u178f\u17bb","\u1785\u17b6\u1793","\u1781\u17d2\u1791\u17c7","\u1793\u17b6\u1780\u17cb","\u1788\u17bb\u178f","m\xb2","\u1782\u17d2\u179a\u17bf\u1784","\u1794\u17d2\u179a\u17a1\u17c4\u17c7","pcs"],d=["Wedding","Birthday","Party","House Warming","Engagement"];a.OhZ,c.Tbc,i.Z.palette.common.black;!function(e){e[e.Jan=1]="Jan",e[e.Feb=2]="Feb",e[e.Mar=3]="Mar",e[e.Apr=4]="Apr",e[e.May=5]="May",e[e.Jun=6]="Jun",e[e.Jul=7]="Jul",e[e.Aug=8]="Aug",e[e.Sep=9]="Sep",e[e.Oct=10]="Oct",e[e.Nov=11]="Nov",e[e.Dec=12]="Dec"}(n||(n={}));var p,f,Z,m,h={January:"\u1798\u1780\u179a\u17b6",February:"\u1780\u17bb\u1798\u17d2\u1797\u17c8",March:"\u1798\u17b7\u1793\u17b6",April:"\u1798\u17c1\u179f\u17b6",May:"\u17a7\u179f\u1797\u17b6",June:"\u1798\u17b7\u1790\u17bb\u1793\u17b6",July:"\u1780\u1780\u17d2\u1780\u178a\u17b6",August:"\u179f\u17b8\u17a0\u17b6",September:"\u1780\u1789\u17d2\u1789\u17b6",October:"\u178f\u17bb\u179b\u17b6",November:"\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6",December:"\u1792\u17d2\u1793\u17bc"},v={week:0,month:1,year:2};!function(e){e.POTENTIAL_CUSTOMER="POTENTIAL_CUSTOMER",e.CUSTOMER="CUSTOMER"}(p||(p={})),function(e){e.OTHER="OTHER",e.MALE="MALE",e.FEMALE="FEMALE"}(f||(f={})),function(e){e.FB="FB",e.TG="TG"}(Z||(Z={})),function(e){e.STOCK="STOCK",e.NON_STOCK="NON_STOCK"}(m||(m={}));var x={STOCK:"\u1798\u17b6\u1793\u1780\u17d2\u1793\u17bb\u1784\u179f\u17d2\u178f\u17bb\u1780",NON_STOCK:"\u1798\u17b7\u1793\u1798\u17b6\u1793\u179f\u17d2\u178f\u17bb\u1780"}},18365:function(e,t,r){r.d(t,{I:function(){return n}});var n=function(e,t){e.preventDefault();if(e.target){var r=e.target.files;if(r){var n,a=new FileReader;(null===(n=r[0])||void 0===n?void 0:n.size)<=2097152&&["png","jpg","jpeg"].some((function(e){var t;return null===(t=r[0])||void 0===t?void 0:t.type.includes(e)}))?(a.readAsDataURL(r[0]),a.onload=function(){return t(a.result,r[0])}):alert("Unsupported File")}}}},90133:function(e,t,r){r.d(t,{V:function(){return c}});var n=r(75878),a=r(21217);function c(e){return(0,a.Z)("MuiDivider",e)}var i=(0,n.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=i},23786:function(e,t,r){r.d(t,{Z:function(){return S}});var n=r(4942),a=r(63366),c=r(87462),i=r(72791),u=r(28182),o=r(94419),s=r(12065),l=r(66934),d=r(31402),p=r(66199),f=r(95080),Z=r(40162),m=r(42071),h=r(90133),v=r(96014),x=r(29849),g=r(75878),y=r(21217);function b(e){return(0,y.Z)("MuiMenuItem",e)}var k=(0,g.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),w=r(80184),j=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=(0,l.ZP)(f.Z,{shouldForwardProp:function(e){return(0,l.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]}})((function(e){var t,r=e.theme,a=e.ownerState;return(0,c.Z)({},r.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((r.vars||r).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,n.Z)(t,"&.".concat(k.selected),(0,n.Z)({backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / ").concat(r.vars.palette.action.selectedOpacity,")"):(0,s.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity)},"&.".concat(k.focusVisible),{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.focusOpacity,"))"):(0,s.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)})),(0,n.Z)(t,"&.".concat(k.selected,":hover"),{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.hoverOpacity,"))"):(0,s.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / ").concat(r.vars.palette.action.selectedOpacity,")"):(0,s.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity)}}),(0,n.Z)(t,"&.".concat(k.focusVisible),{backgroundColor:(r.vars||r).palette.action.focus}),(0,n.Z)(t,"&.".concat(k.disabled),{opacity:(r.vars||r).palette.action.disabledOpacity}),(0,n.Z)(t,"& + .".concat(h.Z.root),{marginTop:r.spacing(1),marginBottom:r.spacing(1)}),(0,n.Z)(t,"& + .".concat(h.Z.inset),{marginLeft:52}),(0,n.Z)(t,"& .".concat(x.Z.root),{marginTop:0,marginBottom:0}),(0,n.Z)(t,"& .".concat(x.Z.inset),{paddingLeft:36}),(0,n.Z)(t,"& .".concat(v.Z.root),{minWidth:36}),t),!a.dense&&(0,n.Z)({},r.breakpoints.up("sm"),{minHeight:"auto"}),a.dense&&(0,c.Z)({minHeight:32,paddingTop:4,paddingBottom:4},r.typography.body2,(0,n.Z)({},"& .".concat(v.Z.root," svg"),{fontSize:"1.25rem"})))})),S=i.forwardRef((function(e,t){var r=(0,d.Z)({props:e,name:"MuiMenuItem"}),n=r.autoFocus,s=void 0!==n&&n,l=r.component,f=void 0===l?"li":l,h=r.dense,v=void 0!==h&&h,x=r.divider,g=void 0!==x&&x,y=r.disableGutters,k=void 0!==y&&y,S=r.focusVisibleClassName,A=r.role,E=void 0===A?"menuitem":A,M=r.tabIndex,O=r.className,L=(0,a.Z)(r,j),P=i.useContext(p.Z),F=i.useMemo((function(){return{dense:v||P.dense||!1,disableGutters:k}}),[P.dense,v,k]),J=i.useRef(null);(0,Z.Z)((function(){s&&J.current&&J.current.focus()}),[s]);var U,I=(0,c.Z)({},r,{dense:F.dense,divider:g,disableGutters:k}),T=function(e){var t=e.disabled,r=e.dense,n=e.divider,a=e.disableGutters,i=e.selected,u=e.classes,s={root:["root",r&&"dense",t&&"disabled",!a&&"gutters",n&&"divider",i&&"selected"]},l=(0,o.Z)(s,b,u);return(0,c.Z)({},u,l)}(r),D=(0,m.Z)(J,t);return r.disabled||(U=void 0!==M?M:-1),(0,w.jsx)(p.Z.Provider,{value:F,children:(0,w.jsx)(C,(0,c.Z)({ref:D,role:E,tabIndex:U,component:f,focusVisibleClassName:(0,u.Z)(T.focusVisible,S),className:(0,u.Z)(T.root,O)},L,{ownerState:I,classes:T}))})}))},95101:function(e,t,r){r.d(t,{Z:function(){return Z}});var n=r(97573),a=r(72791),c=r(52007),i=r.n(c),u=["variant","color","size"],o=function(e){var t=e.color;return a.createElement(a.Fragment,null,a.createElement("path",{d:"M18 6c-.61 0-1.17-.35-1.45-.89l-.72-1.45C15.37 2.75 14.17 2 13.15 2h-2.29c-1.03 0-2.23.75-2.69 1.66l-.72 1.45C7.17 5.65 6.61 6 6 6 3.83 6 2.11 7.83 2.25 9.99l.52 8.26C2.89 20.31 4 22 6.76 22h10.48c2.76 0 3.86-1.69 3.99-3.75l.52-8.26A3.753 3.753 0 0 0 18 6Zm-7.5 1.25h3c.41 0 .75.34.75.75s-.34.75-.75.75h-3c-.41 0-.75-.34-.75-.75s.34-.75.75-.75ZM12 18.12c-1.86 0-3.38-1.51-3.38-3.38 0-1.87 1.51-3.38 3.38-3.38 1.87 0 3.38 1.51 3.38 3.38 0 1.87-1.52 3.38-3.38 3.38Z",fill:t}))},s=function(e){var t=e.color;return a.createElement(a.Fragment,null,a.createElement("path",{d:"M2.77 18.25C2.89 20.31 4 22 6.76 22h10.48c2.76 0 3.86-1.69 3.99-3.75l.52-8.26A3.753 3.753 0 0 0 18 6c-.61 0-1.17-.35-1.45-.89l-.72-1.45C15.37 2.75 14.17 2 13.15 2h-2.29c-1.03 0-2.23.75-2.69 1.66l-.72 1.45C7.17 5.65 6.61 6 6 6 3.83 6 2.11 7.83 2.25 9.99l.26 4.07M10.5 8h3",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M12 18c1.79 0 3.25-1.46 3.25-3.25S13.79 11.5 12 11.5s-3.25 1.46-3.25 3.25S10.21 18 12 18Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},l=function(e){var t=e.color;return a.createElement(a.Fragment,null,a.createElement("path",{opacity:".4",d:"M6.76 22h10.48c2.76 0 3.86-1.69 3.99-3.75l.52-8.26A3.753 3.753 0 0 0 18 6c-.61 0-1.17-.35-1.45-.89l-.72-1.45C15.37 2.75 14.17 2 13.15 2h-2.29c-1.03 0-2.23.75-2.69 1.66l-.72 1.45C7.17 5.65 6.61 6 6 6 3.83 6 2.11 7.83 2.25 9.99l.52 8.26C2.89 20.31 4 22 6.76 22Z",fill:t}),a.createElement("path",{d:"M13.5 8.75h-3c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h3c.41 0 .75.34.75.75s-.34.75-.75.75ZM12.001 18.131a3.38 3.38 0 1 0 0-6.76 3.38 3.38 0 0 0 0 6.76Z",fill:t}))},d=function(e){var t=e.color;return a.createElement(a.Fragment,null,a.createElement("path",{d:"M6.76 22h10.48c2.76 0 3.86-1.69 3.99-3.75l.52-8.26A3.753 3.753 0 0 0 18 6c-.61 0-1.17-.35-1.45-.89l-.72-1.45C15.37 2.75 14.17 2 13.15 2h-2.29c-1.03 0-2.23.75-2.69 1.66l-.72 1.45C7.17 5.65 6.61 6 6 6 3.83 6 2.11 7.83 2.25 9.99l.52 8.26C2.89 20.31 4 22 6.76 22ZM10.5 8h3",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M12 18c1.79 0 3.25-1.46 3.25-3.25S13.79 11.5 12 11.5s-3.25 1.46-3.25 3.25S10.21 18 12 18Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},p=function(e){var t=e.color;return a.createElement(a.Fragment,null,a.createElement("path",{d:"M17.242 22.75H6.762c-2.8 0-4.58-1.67-4.74-4.46l-.52-8.25a4.44 4.44 0 0 1 1.21-3.36c.85-.91 2.05-1.43 3.29-1.43.32 0 .63-.19.78-.49l.72-1.43c.59-1.17 2.07-2.08 3.36-2.08h2.29c1.29 0 2.76.91 3.35 2.07l.72 1.46c.15.28.45.47.78.47 1.24 0 2.44.52 3.29 1.43.86.92 1.29 2.11 1.21 3.36l-.52 8.26c-.18 2.83-1.91 4.45-4.74 4.45Zm-6.38-20c-.74 0-1.68.58-2.02 1.25l-.72 1.44c-.42.81-1.23 1.31-2.12 1.31-.84 0-1.62.34-2.2.95-.57.61-.86 1.41-.8 2.24l.52 8.26c.12 2.02 1.21 3.05 3.24 3.05h10.48c2.02 0 3.11-1.03 3.24-3.05l.52-8.26a2.99 2.99 0 0 0-.8-2.24c-.58-.61-1.36-.95-2.2-.95-.89 0-1.7-.5-2.12-1.29L15.152 4c-.33-.66-1.27-1.24-2.01-1.24h-2.28v-.01Z",fill:t}),a.createElement("path",{d:"M13.5 8.75h-3c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h3c.41 0 .75.34.75.75s-.34.75-.75.75ZM12 18.75c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4Zm0-6.5a2.5 2.5 0 0 0 0 5 2.5 2.5 0 0 0 0-5Z",fill:t}))},f=function(e){var t=e.color;return a.createElement(a.Fragment,null,a.createElement("path",{d:"M6.76 22h10.48c2.76 0 3.86-1.69 3.99-3.75l.52-8.26A3.753 3.753 0 0 0 18 6c-.61 0-1.17-.35-1.45-.89l-.72-1.45C15.37 2.75 14.17 2 13.15 2h-2.29c-1.03 0-2.23.75-2.69 1.66l-.72 1.45C7.17 5.65 6.61 6 6 6 3.83 6 2.11 7.83 2.25 9.99l.52 8.26C2.89 20.31 4 22 6.76 22Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{opacity:".4",d:"M10.5 8h3M12 18c1.79 0 3.25-1.46 3.25-3.25S13.79 11.5 12 11.5s-3.25 1.46-3.25 3.25S10.21 18 12 18Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},Z=(0,a.forwardRef)((function(e,t){var r=e.variant,c=e.color,i=e.size,Z=(0,n._)(e,u);return a.createElement("svg",(0,n.a)({},Z,{xmlns:"http://www.w3.org/2000/svg",ref:t,width:i,height:i,viewBox:"0 0 24 24",fill:"none"}),function(e,t){switch(e){case"Bold":return a.createElement(o,{color:t});case"Broken":return a.createElement(s,{color:t});case"Bulk":return a.createElement(l,{color:t});case"Linear":default:return a.createElement(d,{color:t});case"Outline":return a.createElement(p,{color:t});case"TwoTone":return a.createElement(f,{color:t})}}(r,c))}));Z.propTypes={variant:i().oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:i().string,size:i().oneOfType([i().string,i().number])},Z.defaultProps={variant:"Linear",color:"currentColor",size:"24"},Z.displayName="Camera"}}]);
//# sourceMappingURL=4469.70a568e0.chunk.js.map
"use strict";(self.webpackChunkmongkol_serey_cms=self.webpackChunkmongkol_serey_cms||[]).push([[277],{92630:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(38233),r=n(42877);const o={getCustomerList:async e=>{let{page:i,search:n,size:o}=e;return await t.Z.get(r.J.customersList,{params:{page:i,size:12,search:n}})},getCustomerDetails:async e=>{let{id:i}=e;return await t.Z.get(r.J.customerDetails.replace(":id","".concat(i)))},postNewCustomer:async e=>{let{cusRequest:i}=e;return await t.Z.post(r.J.addCustomer,i)},deleteCustomer:async e=>{let{id:i}=e;return await t.Z.delete(r.J.deletCustomer.replace(":id","".concat(i)))}}},65172:(e,i,n)=>{n.d(i,{Z:()=>m});var t=n(72791),r=n(5574),o=n(55931),l=n(53767),s=n(20890),a=n(36151),c=n(20124),d=n(66254),h=n(59860),u=n(80184);const x=t.forwardRef((function(e,i){return(0,u.jsx)(o.Z,{direction:"up",ref:i,...e})}));function m(e){const{open:i,title:n,confirm:t,cancel:o,loading:m,...g}=e;return(0,u.jsx)(r.Z,{open:i,TransitionComponent:x,maxWidth:e.maxWidth,onClose:o,...g,children:(0,u.jsxs)(l.Z,{alignItems:"center",sx:{p:4},spacing:3,children:[(0,u.jsxs)(l.Z,{alignItems:"center",children:[(0,u.jsx)(c.Z,{size:"60",color:d.Z.palette.error.main,variant:"Bulk"}),(0,u.jsx)(s.Z,{variant:"body1",color:"error",children:n})]}),(0,u.jsxs)(l.Z,{direction:"row",spacing:4,children:[(0,u.jsx)(a.Z,{variant:"outlined",color:"error",sx:{"&:hover":{bgcolor:d.Z.palette.error.main,color:d.Z.palette.common.white}},onClick:o,children:"Cancel"}),(0,u.jsx)(h.Z,{onClick:t,loading:m,variant:"outlined",color:"info",loadingIndicator:"Deletting\u2026",children:"Confirm"})]})]})})}},84753:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(53767),r=n(20890),o=(n(72791),n(80184));const l=e=>{let{label:i,children:n}=e;return(0,o.jsxs)(t.Z,{spacing:1,width:"100%",children:[(0,o.jsx)(r.Z,{fontSize:14,children:i}),n]})}},52764:(e,i,n)=>{n.d(i,{Z:()=>l,u:()=>o.u});var t=n(57689),r=n(11087),o=n(42877);const l=()=>{const e=(0,t.s0)(),i=(0,t.UO)(),n=(0,t.TH)(),[o,l]=(0,r.lr)();return{navigate:e,urlParams:i,location:n,searchParams:o,setSearchParams:l}}},64277:(e,i,n)=>{n.r(i),n.d(i,{default:()=>Te});var t=n(72791),r=n(35527),o=n(61889),l=n(72466),s=n(53767),a=n(20068),c=n(13400),d=n(36151),h=n(63466),u=n(39281),x=n(79836),m=n(53382),g=n(35855),p=n(53994),f=n(20890),j=n(57246),Z=n(73974),v=n(5574),y=n(65661),b=n(68870),S=n(94721),w=n(66254),B=n(93044),F=n(56890),I=n(72426),z=n.n(I),k=n(82139),C=n(80184);const K={Wedding:"\u1796\u17b7\u1792\u17b8\u179a\u17c0\u1794\u1798\u1784\u17d2\u1782\u179b\u1780\u17b6\u179a",Party:"\u1796\u17b7\u1792\u17b8\u1787\u1794\u17cb\u179b\u17c0\u1784",Birthday:"\u1796\u17b7\u1792\u17b8\u1781\u17bd\u1794\u1780\u17c6\u178e\u17be\u178f"},T=t.forwardRef(((e,i)=>{var n,t,r,l;let{order:a}=e;const c=null===(n=a.finalInvoices)||void 0===n?void 0:n.reduce(((e,i)=>e+i.price),0);return(0,C.jsxs)(b.Z,{ref:i,sx:{width:"21cm",height:"auto",bgcolor:"white"},children:[(0,C.jsxs)(o.ZP,{container:!0,children:[(0,C.jsx)(o.ZP,{item:!0,xs:8,children:(0,C.jsxs)(s.Z,{sx:{height:"100%"},alignItems:"flex-start",spacing:.5,children:[(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1798\u1784\u17d2\u1782\u179b\u179f\u17b7\u179a\u17b8\u1798\u17d2\u17a0\u17bc\u1794&\u178f\u17bb\u179a\u17c4\u1784\u1780\u17b6\u179a"}),(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"\u17a2\u17b6\u179f\u17d0\u1799\u178a\u17d2\u178b\u17b6\u1793\u200b\u17d6"}),(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1794\u17bb\u179a\u17b8\u1788\u17bc\u1780\u179c\u17b6\u17e0\u17e3 \u1795\u17d2\u179b\u17bc\u179c\u179b\u17c1\u1781\u17e0\u17e3 \u1795\u17d2\u1791\u17c7\u179b\u17c1\u1781\u17e8\u17e2"})]}),(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1791\u17bc\u179a\u179f\u17d0\u1796\u17d2\u1791\u179b\u17c1\u1781\u200b\u17d6"}),(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"+85581951133 | 011951133"})]})]})}),(0,C.jsxs)(o.ZP,{item:!0,xs:4,children:[(0,C.jsx)(B.Z,{variant:"square",src:"/images/mongkol_serey_logo_1000.png",alt:"logo",imgProps:{sx:{objectFit:"contain"}},sx:{mx:"auto",width:167,height:"auto",my:2}}),(0,C.jsxs)(s.Z,{spacing:.5,children:[(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{fontWeight:"bold",whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u179b\u17c1\u1781\u179c\u17b7\u1780\u17d0\u1799\u1794\u178f\u17d2\u179a\u17d6"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:a.id&&(e=>{const i="00000";return i.substring(0,i.length-e.length)+e})(a.id.toString())})]}),(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u200b\u17d6"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:null===(t=a.customer)||void 0===t?void 0:t.customer_name})]}),(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1791\u17bc\u179a\u179f\u17d0\u1796\u17d2\u1791\u179b\u17c1\u1781\u200b\u17d6"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:null===(r=a.customer)||void 0===r?void 0:r.contact_number})]}),(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u200b\u17d6"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:z()(a.date).format("DD.MM.YYYY")})]}),(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1791\u17b8\u178f\u17b6\u17c6\u1784\u200b\u17d6"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:a.location})]})]})]})]}),(0,C.jsxs)(f.Z,{textAlign:"center",padding:2,fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:20,children:["\u179c\u17b7\u1780\u17d0\u1799\u1794\u178f\u17d2\u179a ",K["".concat(a.type)]]}),(0,C.jsxs)(x.Z,{sx:{"& thead  th, tbody  td":{border:"1px solid black",borderCollapse:"collapse",fontFamily:"Khmer Busra high",fontWeight:w.Z.typography.fontWeightBold,py:1,color:"black",fontSize:18},"& thead th":{textAlign:"center"},"& .css-1b87so5-MuiTableCell-root":{color:"black"}},children:[(0,C.jsx)(F.Z,{children:(0,C.jsxs)(g.Z,{children:[(0,C.jsx)(p.Z,{width:"5%",children:"\u179b.\u179a"}),(0,C.jsx)(p.Z,{width:"45%",children:"\u179a\u17b6\u1799\u1788\u17d2\u1798\u17c4\u17c7\u1798\u17bb\u1781\u1798\u17d2\u17a0\u17bc\u1794"}),(0,C.jsx)(p.Z,{width:"15%",children:"\u1785\u17c6\u1793\u17bd\u1793"}),(0,C.jsx)(p.Z,{width:"15%",children:"\u178f\u1798\u17d2\u179b\u17c3\u179a\u17b6\u1799"}),(0,C.jsx)(p.Z,{width:"20%",children:"\u179f\u179a\u17bb\u1794\u179a\u1784"})]})}),(0,C.jsxs)(m.Z,{children:[null===(l=a.finalInvoices)||void 0===l?void 0:l.map(((e,i)=>(0,C.jsxs)(g.Z,{children:[(0,C.jsx)(p.Z,{sx:{textAlign:"center"},children:i+1}),(0,C.jsx)(p.Z,{children:e.category}),(0,C.jsxs)(p.Z,{sx:{textAlign:"center"},children:[e.quantity,e.unit]}),(0,C.jsxs)(p.Z,{sx:{textAlign:"center"},children:[Intl.NumberFormat().format(e.price/e.quantity),"$"]}),(0,C.jsxs)(p.Z,{sx:{textAlign:"center"},children:[Intl.NumberFormat().format(e.price),"$"]})]},e.id))),(0,C.jsx)(g.Z,{children:(0,C.jsxs)(p.Z,{colSpan:5,sx:{textAlign:"center"},children:["\u178f\u1798\u17d2\u179b\u17c3\u179f\u179a\u17bb\u1794 ",Intl.NumberFormat().format(c),"$"]})}),(0,C.jsx)(g.Z,{children:(0,C.jsxs)(p.Z,{colSpan:5,sx:{textAlign:"center"},children:["\u1794\u17b6\u1793\u1780\u1780\u17cb ",Intl.NumberFormat().format(a.deposit),"$"]})}),(0,C.jsx)(g.Z,{children:(0,C.jsxs)(p.Z,{colSpan:5,sx:{textAlign:"center"},children:["\u1794\u17d2\u179a\u17b6\u1780\u17cb\u1793\u17c5\u179f\u179b\u17cb"," ",Intl.NumberFormat().format(c-a.deposit),"$"]})})]})]}),(0,C.jsxs)(b.Z,{sx:{mt:4},children:[(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,lineHeight:1.8,children:"\u17e1. \u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u178f\u17d2\u179a\u17bc\u179c\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u179f\u17c1\u179c\u17b6\u1780\u1798\u17d2\u1798\u1791\u17b6\u17c6\u1784\u17a2\u179f\u17cb\u1799\u17c9\u17b6\u1784\u1799\u17bc\u179a \u178f\u17d2\u179a\u17b9\u1798\u1798\u17c9\u17c4\u1784 11\u1790\u17d2\u1784\u17c3\u178f\u17d2\u179a\u1784\u17cb \u1794\u1793\u17d2\u1791\u17b6\u1794\u17cb\u1796\u17b8\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u179a\u17bd\u1785\u1780\u17b6\u179b\u1796\u17b8\u1799\u1794\u17cb \u1780\u17d2\u1793\u17bb\u1784\u1780\u179a\u178e\u17b8\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u1799\u17ba\u178f\u178f\u17d2\u179a\u17bc\u179c\u1794\u1784\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u1796\u17b7\u1793\u17d0\u1799 \u1799\u17ba\u178f1\u1790\u17d2\u1784\u17c3 100$ \u17ac 3\u1790\u17d2\u1784\u17c3 500$\u17d4"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,lineHeight:1.8,children:"\u17e2. \u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u200b\u17a2\u17b6\u1785\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u178f\u17b6\u1798\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799\u1792\u1793\u17b6\u1782\u17b6\u179a\u178a\u17bc\u1785\u1781\u17b6\u1784\u1780\u17d2\u179a\u17c4\u1798 \u17d6"}),(0,C.jsxs)(o.ZP,{container:!0,columnSpacing:2,rowSpacing:1,sx:{px:4},children:[(0,C.jsx)(o.ZP,{item:!0,xs:6,children:(0,C.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799 ABA"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u17d6"})]})}),(0,C.jsx)(o.ZP,{item:!0,xs:!0,children:(0,C.jsxs)(s.Z,{direction:"row",spacing:2,children:[(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"999119199"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"(Ratha Mengey)"})]})}),(0,C.jsx)(o.ZP,{item:!0,xs:6,children:(0,C.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799 Acleda Toanchet"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u17d6"})]})}),(0,C.jsx)(o.ZP,{item:!0,xs:!0,children:(0,C.jsx)(s.Z,{direction:"row",spacing:2,children:(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"081951133"})})}),(0,C.jsx)(o.ZP,{item:!0,xs:6,children:(0,C.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799 Wing"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u17d6"})]})}),(0,C.jsx)(o.ZP,{item:!0,xs:!0,children:(0,C.jsx)(s.Z,{direction:"row",spacing:2,children:(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"081951133"})})})]})]})]})})),M=T,P=t.forwardRef(((e,i)=>{var n,t,r,l;let{order:a}=e;const c=z()(a.bookingDate).format("MMMM"),d=z()(a.bookingDate).format("DD"),h=z()(a.bookingDate).format("YYYY");return(0,C.jsxs)(b.Z,{ref:i,sx:{width:"21cm",height:"auto",bgcolor:"white"},children:[(0,C.jsxs)(o.ZP,{container:!0,children:[(0,C.jsx)(o.ZP,{item:!0,xs:8,children:(0,C.jsxs)(s.Z,{sx:{height:"100%"},alignItems:"flex-start",spacing:.5,children:[(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1798\u1784\u17d2\u1782\u179b\u179f\u17b7\u179a\u17b8\u1798\u17d2\u17a0\u17bc\u1794&\u178f\u17bb\u179a\u17c4\u1784\u1780\u17b6\u179a"}),(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"\u17a2\u17b6\u179f\u17d0\u1799\u178a\u17d2\u178b\u17b6\u1793\u200b\u17d6"}),(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1794\u17bb\u179a\u17b8\u1788\u17bc\u1780\u179c\u17b6\u17e0\u17e3 \u1795\u17d2\u179b\u17bc\u179c\u179b\u17c1\u1781\u17e0\u17e3 \u1795\u17d2\u1791\u17c7\u179b\u17c1\u1781\u17e8\u17e2"})]}),(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1791\u17bc\u179a\u179f\u17d0\u1796\u17d2\u1791\u179b\u17c1\u1781\u200b\u17d6"}),(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"+85581951133 | 011951133"})]})]})}),(0,C.jsxs)(o.ZP,{item:!0,xs:4,children:[(0,C.jsx)(B.Z,{variant:"square",src:"images/mongkol_serey_logo_1000.png",alt:"logo",imgProps:{sx:{objectFit:"contain"}},sx:{mx:"auto",width:200,height:"auto",my:2}}),(0,C.jsxs)(s.Z,{spacing:.5,children:[(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{fontWeight:"bold",whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u179b\u17c1\u1781\u179c\u17b7\u1780\u17d0\u1799\u1794\u178f\u17d2\u179a\u17d6"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:a.id&&(e=>{const i="00000";return i.substring(0,i.length-e.length)+e})(null===(n=a.id)||void 0===n?void 0:n.toString())})]}),(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u200b\u17d6"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:null===(t=a.customer)||void 0===t?void 0:t.customer_name})]}),(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1791\u17bc\u179a\u179f\u17d0\u1796\u17d2\u1791\u179b\u17c1\u1781\u200b\u17d6"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:null===(r=a.customer)||void 0===r?void 0:r.contact_number})]}),(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u200b\u17d6"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:z()(a.date).format("DD.MM.YYYY")})]}),(0,C.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,C.jsx)(f.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1791\u17b8\u178f\u17b6\u17c6\u1784\u200b\u17d6"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:a.location})]})]})]})]}),(0,C.jsxs)(f.Z,{textAlign:"center",padding:2,fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:20,children:["\u179c\u17b7\u1780\u17d0\u1799\u1794\u178f\u17d2\u179a\u1780\u1780\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb ",K["".concat(a.type)]]}),(0,C.jsxs)(f.Z,{textAlign:"justify",fontFamily:"Khmer Busra high",fontSize:18,lineHeight:2,children:["\u1780\u1789\u17d2\u1789\u17b6 ",(0,C.jsx)("b",{children:"\u179a\u178a\u17d2\u178b\u17b6 \u1798\u17c9\u17c1\u1784\u17a2\u17ca\u17b8"})," \u1797\u17c1\u1791 \u179f\u17d2\u179a\u17b8 \u1780\u17b6\u1793\u17cb\u17a2\u178f\u17d2\u178f\u179f\u1789\u17d2\u1789\u17b6\u178e\u1794\u17d0\u178e\u17d2\u178e\u179b\u17c1\u1781 \u17e0\u17e5\u17e1\u17e5\u17e6\u17e7\u17e4\u17e3\u17e9 \u1798\u17b6\u1793\u17a2\u17b6\u179f\u17d0\u1799\u178a\u17d2\u178b\u17b6\u1793\u179f\u17d2\u1790\u17b7\u178f\u1793\u17c5\u1795\u17d2\u1791\u17c7\u179b\u17c1\u1781\u17e8\u17e0 \u1795\u17d2\u179b\u17bc\u179c\u179b\u17c1\u1781\u17e0\u17e3 \u1794\u17bb\u179a\u17b8\u1796\u17b7\u1797\u1796\u1790\u17d2\u1798\u17b8\u1788\u17bc\u1780\u179c\u17c9\u17b6\u17e3 \u1787\u17b6\u17a2\u17d2\u1793\u1780\u178f\u17c6\u178e\u17b6\u1784\u1780\u17d2\u179a\u17bb\u1798\u17a0\u17ca\u17bb\u1793"," ",(0,C.jsx)("b",{children:"\u1798\u1784\u17d2\u1782\u179b\u179f\u17c1\u179a\u17b8\u178f\u17bb\u179a\u17c4\u1784&\u1798\u17d2\u17a0\u17bc\u1794\u1780\u17b6\u179a Mungkul Serey Catering Services"})," ","\u1794\u17b6\u1793\u1791\u1791\u17bd\u179b\u1780\u17b6\u179a\u1780\u1780\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb \u179f\u17c1\u179c\u17b6\u1780\u1798\u17d2\u1798\u1785\u17bb\u1784\u1797\u17c5 \u178f\u17bb\u1780\u17b6\u179a"," ",K["".concat(a.type)]," ",(0,C.jsxs)("b",{children:["\u1785\u17c6\u1793\u17bd\u1793 ",a.quantity,"\u178f\u17bb\u17d4"]})]}),(0,C.jsx)(f.Z,{textAlign:"center",lineHeight:2,fontFamily:"Khmer Busra high",fontSize:18,fontWeight:"bold",children:"\u1796\u17b8"}),(0,C.jsxs)(f.Z,{mb:4,textAlign:"justify",lineHeight:2,fontFamily:"Khmer Busra high",fontSize:18,children:["\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u1788\u17d2\u1798\u17c4\u17c7"," ",(0,C.jsx)("b",{children:null===a.customer?"No Cutomer":a.customer.customer_name})," ",null!==a.customer&&(0,C.jsxs)(C.Fragment,{children:["\u1798\u17b6\u1793\u1791\u17b8\u179b\u17c6\u1793\u17c5",a.customer.house?"\u1795\u17d2\u1791\u17c7\u179b\u17c1\u1781\u17d6".concat(a.customer.house):""," ",a.customer.street?"\u1795\u17d2\u179b\u17bc\u179c\u179b\u17c1\u1781\u17d6".concat(a.customer.street):""," ",a.customer.location," ",a.customer.commune," ",a.customer.district," ",a.customer.province," "]}),"\u1785\u17c6\u1793\u17bd\u1793\u1791\u17b9\u1780\u1794\u17d2\u179a\u17b6\u1780\u17cb $",Intl.NumberFormat().format(a.deposit)," ",a.amountInKhmer&&(0,C.jsxs)("b",{children:["(",a.amountInKhmer,")"]})," ","Cash"!==a.paidBy?"\u178f\u17b6\u1798\u179a\u1799\u17c8\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799\u1792\u1793\u17b6\u1782\u17b6\u179a"+a.paidBy:"\u178f\u17b6\u1798\u179a\u1799\u17c8\u1780\u17d2\u179a\u178a\u17b6\u179f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb"," ","\u1793\u17c5\u1790\u17d2\u1784\u17c3\u1791\u17b8 ",(0,C.jsx)("b",{children:d})," \u1781\u17c2 ",(0,C.jsx)("b",{children:k.F5[c]})," \u1786\u17d2\u1793\u17b6\u17c6"," ",(0,C.jsx)("b",{children:h}),"\u17d4"]}),(0,C.jsxs)(x.Z,{sx:{"& thead th, tbody td":{border:"1px solid black",borderCollapse:"collapse",py:1,fontWeight:w.Z.typography.fontWeightBold,fontFamily:"Khmer Busra high",color:"black",fontSize:18},"& thead th":{textAlign:"center"},"& .css-1b87so5-MuiTableCell-root":{color:"black"}},children:[(0,C.jsx)(F.Z,{children:(0,C.jsxs)(g.Z,{children:[(0,C.jsx)(p.Z,{width:"5%",children:"\u179b.\u179a"}),(0,C.jsx)(p.Z,{width:"65%",children:"\u179a\u17b6\u1799\u1788\u17d2\u1798\u17c4\u17c7\u1798\u17bb\u1781\u1798\u17d2\u17a0\u17bc\u1794"}),(0,C.jsx)(p.Z,{width:"15%",children:"\u1785\u17c6\u1793\u17bd\u1793"}),(0,C.jsx)(p.Z,{width:"15%",children:"\u178f\u1798\u17d2\u179b\u17c3\u179a\u17b6\u1799"})]})}),(0,C.jsx)(m.Z,{children:null===(l=a.eventPackages)||void 0===l?void 0:l.map((e=>{var i;return(0,C.jsxs)(g.Z,{children:[(0,C.jsx)(p.Z,{}),(0,C.jsxs)(p.Z,{children:[(0,C.jsx)(f.Z,{textAlign:"center",fontFamily:"Khmer Busra high",fontSize:18,fontWeight:"bold",children:e.category}),(0,C.jsx)(f.Z,{whiteSpace:"pre-line",fontFamily:"Khmer Busra high",fontSize:18,lineHeight:1.8,component:"div",children:(0,C.jsx)("ol",{style:{listStyleType:"khmer",fontFamily:"Khmer Busra high",fontSize:18},children:null===e||void 0===e||null===(i=e.packageItems)||void 0===i?void 0:i.map(((e,i)=>(0,C.jsx)("li",{children:e.title},i)))})})]}),(0,C.jsx)(p.Z,{sx:{verticalAlign:"top",textAlign:"center"},children:(0,C.jsx)(f.Z,{textAlign:"center",fontFamily:"Khmer Busra high",fontSize:18,fontWeight:"bold",children:0!==e.quantity?"".concat(e.quantity).concat(e.unit):""})}),(0,C.jsx)(p.Z,{sx:{verticalAlign:"top",textAlign:"center"},children:(0,C.jsxs)(f.Z,{textAlign:"center",fontFamily:"Khmer Busra high",fontSize:18,fontWeight:"bold",children:[e.price>0&&e.quantity>0?Intl.NumberFormat().format(e.price/e.quantity):"",e.price>0&&"$/".concat(e.unit)]})})]},e.id)}))})]}),(0,C.jsxs)(s.Z,{spacing:.5,sx:{mt:4},children:[(0,C.jsx)(f.Z,{fontSize:20,textAlign:"justify",fontWeight:"bold",fontFamily:"Khmer Busra high",mb:2,children:"\u1782\u17c4\u179b\u1780\u17b6\u179a\u178e\u17cd\u179a\u1794\u179f\u17cb\u1780\u17d2\u179a\u17bb\u1798\u17a0\u17ca\u17bb\u1793 \u1798\u1784\u17d2\u1782\u179b\u179f\u17c1\u179a\u17b8\u178f\u17bb\u179a\u17c4\u1784&\u1798\u17d2\u17a0\u17bc\u1794\u1780\u17b6\u179a Mungkul Serey Catering Service"}),(0,C.jsxs)("ol",{style:{listStyleType:"khmer",fontFamily:"Khmer Busra high",fontSize:18},children:[(0,C.jsx)("li",{style:{lineHeight:2,textAlign:"justify"},children:"\u179f\u1798\u17d2\u179a\u17b6\u1794\u17cb\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u178a\u17c2\u179b\u1794\u17b6\u1793\u1780\u1780\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u179a\u17bd\u1785\u1798\u17b7\u1793\u17a2\u17b6\u1785\u1791\u17b6\u1798\u1791\u17b6\u1794\u17d2\u179a\u17b6\u1780\u17cb\u1780\u1780\u17cb\u178f\u17d2\u179a\u179b\u1794\u17cb\u1791\u17c5\u179c\u17b7\u1789\u1791\u17c1\u1794\u17d2\u179a\u179f\u17b7\u1793\u1794\u17be\u1785\u1784\u17cb CANCEL"}),(0,C.jsx)("li",{style:{lineHeight:2,textAlign:"justify"},children:"\u1780\u17d2\u1793\u17bb\u1784\u1780\u179a\u178e\u17b8\u1797\u17d2\u1789\u17c0\u179c\u1785\u1784\u17cb CANCEL \u179f\u17bc\u1798\u1787\u17bc\u1793\u178a\u17c6\u178e\u17b9\u1784\u178a\u179b\u17cb\u1780\u17d2\u179a\u17bb\u1798\u17a0\u17ca\u17bb\u1793\u179a\u1799\u17c7\u1796\u17c1\u179b\u1798\u17bb\u1793\u1798\u17bd\u1799\u1781\u17c2\u1794\u17d2\u179a\u179f\u17b7\u1793\u1794\u17be\u1797\u17d2\u1789\u17c0\u179c CANCEL \u1798\u17bb\u1793\u179a\u1799\u17c7\u1796\u17c1\u179b\u1780\u17d2\u179a\u17c4\u1798\u1798\u17bd\u1799\u1781\u17c2 \u1797\u17d2\u1789\u17c0\u179c\u178f\u17d2\u179a\u17bc\u179c\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u179f\u1784\u1780\u17b6\u179a\u1780\u1798\u17d2\u1798\u1784\u17cb\u17a2\u17b8\u179c\u17c9\u17b6\u1793\u17cb\u178f\u17d2\u179a\u17c0\u1798\u179f\u1798\u17d2\u179a\u17b6\u1794\u17cb\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u1781\u17d2\u179b\u17bd\u1793\u1785\u17c6\u1793\u17bd\u1793 50% \u1793\u17c3\u178f\u1798\u17d2\u179b\u17c3\u1798\u17d2\u17a0\u17bc\u1794\u179f\u179a\u17bb\u1794 \u17d4"}),(0,C.jsx)("li",{style:{lineHeight:2,textAlign:"justify"},children:"\u1780\u179a\u178e\u17b8\u1798\u17b6\u1793\u17a2\u17c6\u1796\u17be\u17a0\u17b7\u1784\u17d2\u179f\u17b6\u17ac\u1782\u17d2\u179a\u17c4\u17c7\u17a0\u17b6\u1793\u17b7\u1797\u17d0\u1799\u178e\u17b6\u1798\u17bd\u1799\u1780\u17d2\u1793\u17bb\u1784\u1780\u17c6\u17a1\u17bb\u1784\u1796\u17c1\u179b\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u179a\u17b6\u179b\u17cb\u179f\u1798\u17d2\u1797\u17b6\u179a\u17c7\u178a\u17c2\u179b\u1794\u17b6\u1780\u17cb\u1794\u17c2\u1780 \u17ac \u1781\u17bc\u1785\u1781\u17b6\u178f \u17ac \u1797\u17d2\u1789\u17c0\u179c\u178f\u17d2\u179a\u17bc\u179c\u179f\u1784\u1791\u17c5\u178f\u17b6\u1798\u178f\u1798\u17d2\u179b\u17c3\u1787\u17b6\u1780\u17cb\u179f\u17d2\u178f\u17c2\u1784\u179a\u1794\u179f\u17cb\u1780\u17d2\u179a\u17bb\u1798\u17a0\u17ca\u17bb\u1793 \u17d4"}),(0,C.jsx)("li",{style:{lineHeight:2,textAlign:"justify"},children:"\u1785\u17bb\u1784\u1797\u17c5\u1798\u17b7\u1793\u1791\u1791\u17bd\u179b\u1781\u17bb\u179f\u178f\u17d2\u179a\u17bc\u179c\u179b\u17be\u1780\u17b6\u1780\u179f\u17c6\u178e\u179b\u17cb\u179f\u1798\u17d2\u179a\u17b6\u1798\u1794\u1793\u17d2\u1791\u17b6\u1794\u17cb\u1796\u17b8\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u179a\u17bd\u1785\u1791\u17c1\u1798\u17d2\u1785\u17b6\u179f\u17cb\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u178f\u17d2\u179a\u17bc\u179c\u1792\u17d2\u179c\u17be\u1780\u17b6\u179a\u179f\u17c6\u17a2\u17b6\u178f\u178a\u17c4\u1799\u1799\u1780 \u1791\u17c5\u1785\u17c4\u179b\u178a\u17c4\u1799\u1781\u17d2\u179b\u17bd\u1793\u17af\u1784\u1798\u17b7\u1793\u1790\u17b6\u1791\u17b8\u178f\u17b6\u17c6\u1784\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u1793\u17c5\u1780\u17d2\u1793\u17bb\u1784\u1795\u17d2\u1791\u17c7 \u17ac\u1793\u17c5\u1780\u17d2\u1793\u17bb\u1784\u1794\u17bb\u179a\u17b8 \u17ac\u1793\u17c5\u1780\u17d2\u1793\u17bb\u1784\u17a0\u17b6\u1784\u17d4"}),(0,C.jsxs)("li",{style:{lineHeight:2,textAlign:"justify"},children:["\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u178f\u17d2\u179a\u17bc\u179c\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u179f\u17c1\u179c\u17b6\u1780\u1798\u17d2\u1798\u1791\u17b6\u17c6\u1784\u17a2\u179f\u17cb\u1799\u17bc\u179a\u1794\u17c6\u1795\u17bb\u178f\u1796\u17d2\u179a\u17b9\u1780\u1798\u17c9\u17c4\u1784"," ",(0,C.jsx)("b",{children:"\u17e1\u17e1\u1790\u17d2\u1784\u17c3\u178f\u17d2\u179a\u1784\u17cb"})," ","\u1794\u1793\u17d2\u1791\u17b6\u1794\u17cb\u1796\u17b8\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u179a\u17bd\u1785\u1780\u17b6\u179b\u1796\u17b8\u1799\u1794\u17cb\u1780\u17d2\u1793\u17bb\u1784\u1780\u179a\u178e\u17b8\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u1799\u17ba\u178f\u178f\u17d2\u179a\u17bc\u179c\u1794\u1784\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u1796\u17b7\u1793\u17d0\u1799"," ",(0,C.jsx)("b",{children:"\u1799\u17ba\u178f\u17e1\u1790\u17d2\u1784\u17c3 \u17e1\u17e0\u17e0$"})," \u17ac ",(0,C.jsx)("b",{children:"\u17e3\u1790\u17d2\u1784\u17c3 \u17e5\u17e0\u17e0$"}),"\u17d4"]}),(0,C.jsxs)("li",{style:{lineHeight:2,textAlign:"justify"},children:["\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u200b\u17a2\u17b6\u1785\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u178f\u17b6\u1798\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799\u1792\u1793\u17b6\u1782\u17b6\u179a\u178a\u17bc\u1785\u1781\u17b6\u1784\u1780\u17d2\u179a\u17c4\u1798 \u17d6",(0,C.jsxs)(o.ZP,{container:!0,columnSpacing:2,rowSpacing:1,sx:{px:4},children:[(0,C.jsx)(o.ZP,{item:!0,xs:6,children:(0,C.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799 ABA"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u17d6"})]})}),(0,C.jsx)(o.ZP,{item:!0,xs:!0,children:(0,C.jsxs)(s.Z,{direction:"row",spacing:2,children:[(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"999119199"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"(Ratha Mengey)"})]})}),(0,C.jsx)(o.ZP,{item:!0,xs:6,children:(0,C.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799 Acleda Toanchet"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u17d6"})]})}),(0,C.jsx)(o.ZP,{item:!0,xs:!0,children:(0,C.jsx)(s.Z,{direction:"row",spacing:2,children:(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"081951133"})})}),(0,C.jsx)(o.ZP,{item:!0,xs:6,children:(0,C.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799 Wing"}),(0,C.jsx)(f.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u17d6"})]})}),(0,C.jsx)(o.ZP,{item:!0,xs:!0,children:(0,C.jsx)(s.Z,{direction:"row",spacing:2,children:(0,C.jsx)(f.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"081951133"})})})]})]})]})]})]})})),A=P;var D=n(62643),q=n(60826),E=n(85871),R=n(69780),W=n(66172),O=n(23786),Q=n(12065),_=n(61134),V=n(39126),L=n(36571),N=n(31207),Y=n(50841),U=n(17139),H=n(69783),G=n(86544),$=n(16856),J=n(8694),X=n(93025),ee=n(84753),ie=n(71715),ne=n(19218);const te=e=>{let{menuItemsP:i,onRemoveOrder:n,index:r}=e;const{control:o,setValue:l,watch:a}=(0,_.Gc)(),h=a("listMenu.".concat(r,".unitPrice")),u=a("listMenu.".concat(r,".quantity")),x=a("listMenu.".concat(r,".price")),[m,g]=(0,t.useState)([]),[p,j]=(0,t.useState)(null),Z=Boolean(p),v=()=>{j(null)};(0,t.useEffect)((()=>{if(i)return g(i)}),[]);return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(s.Z,{mb:2,mx:3,pb:3,sx:{background:w.Z.palette.background.paper,borderRadius:3},children:[(0,C.jsxs)(s.Z,{spacing:1,px:2,py:3,position:"relative",direction:{xs:"column",md:"row"},children:[(0,C.jsx)(d.Z,{color:"error",onClick:n,sx:{position:"absolute",top:4,right:8,fontSize:12,textTransform:"capitalize",p:0},children:"Remove"}),(0,C.jsx)(_.Qr,{control:o,name:"listMenu.".concat(r,".title"),defaultValue:"",rules:{required:{value:!0,message:"Title is Required"}},render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(ee.Z,{label:"",children:(0,C.jsx)(X.Z,{size:"small",label:"Title",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,...i})})}}),(0,C.jsx)(_.Qr,{control:o,name:"listMenu.".concat(r,".quantity"),defaultValue:"",rules:{required:{value:!0,message:"Quantity is Required"},pattern:{value:J.V0.numberOnly,message:"Quantity should be number only"}},render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(ee.Z,{label:"",children:(0,C.jsx)(X.Z,{size:"small",type:"number",label:"Quantity",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,onKeyUp:()=>{h&&u?isNaN(+h*u)?l("listMenu.".concat(r,".price"),""):l("listMenu.".concat(r,".price"),+(+h*u).toFixed(2)):l("listMenu.".concat(r,".price"),0)},...i})})}}),(0,C.jsx)(ee.Z,{label:"",children:(0,C.jsxs)(s.Z,{direction:"row",sx:{position:"relative"},children:[(0,C.jsx)(_.Qr,{control:o,name:"listMenu.".concat(r,".unitPrice"),defaultValue:"",render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(X.Z,{size:"small",type:"number",label:"Price",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,onKeyUp:()=>{h&&u?isNaN(+h*u)?l("listMenu.".concat(r,".price"),""):l("listMenu.".concat(r,".price"),+(+h*u).toFixed(2)):l("listMenu.".concat(r,".price"),"")},...i})}}),(0,C.jsxs)(d.Z,{onClick:e=>{j(e.currentTarget)},color:"inherit",sx:{background:"#fff",position:"absolute",right:2,top:2,bottom:2,borderRadius:2,color:"#000",width:"auto",minWidth:0,px:1,"&.css-1lskwbk-MuiButtonBase-root-MuiButton-root":{p:0}},children:["/",a("listMenu.".concat(r,".unit"))||"\u178f\u17bb"]}),(0,C.jsx)(ie.Z,{anchorEl:p,open:Z,onClose:v,children:k.d9.map((e=>(0,C.jsx)(O.Z,{onClick:()=>{l("listMenu.".concat(r,".unit"),e),v()},children:e},e)))})]})}),(0,C.jsx)(_.Qr,{control:o,name:"listMenu.".concat(r,".price"),defaultValue:"",rules:{required:{value:!0,message:"Total Price is Required"},pattern:{value:J.V0.numberOnly,message:"Price should be number only"}},render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(ee.Z,{label:"",children:(0,C.jsx)(X.Z,{size:"small",type:"number",label:"Total Price",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,onKeyUp:()=>{x&&u?isNaN(+x/u)?l("listMenu.".concat(r,".unitPrice"),""):l("listMenu.".concat(r,".unitPrice"),+(+x/u).toFixed(2)):l("listMenu.".concat(r,".unitPrice"),"")},...i})})}})]}),m&&m.length>0&&(null===m||void 0===m?void 0:m.map(((e,i)=>(0,C.jsxs)(s.Z,{direction:"row",alignItems:"flex-start",spacing:1,px:2,mb:3,children:[(0,C.jsxs)(f.Z,{width:20,ml:1,children:[i+1,"."]}),(0,C.jsx)(_.Qr,{control:o,name:"listMenu.".concat(r,".menuItem.").concat(i,".title"),defaultValue:"",rules:{required:{value:!0,message:"Item is Required"}},render:e=>{let{field:{onChange:n,...t},fieldState:{error:o}}=e;return(0,C.jsx)(W.Z,{freeSolo:!0,disableClearable:!0,openOnFocus:!0,id:"foodList",size:"small",sx:{width:"100%"},onInputChange:(e,n)=>{l("listMenu.".concat(r,".menuItem.").concat(i,".title"),n)},...t,renderInput:e=>(0,C.jsx)(ne.Z,{variant:"standard",sx:{flexGrow:1,outline:"none",p:0},error:Boolean(o),helperText:null===o||void 0===o?void 0:o.message,...e}),options:k.Xk.map((e=>e))})}}),(0,C.jsx)(c.Z,{color:"error",onClick:()=>(e=>{const i=a("listMenu.".concat(r,".menuItem"));i.splice(e,1),g([...i]),l("listMenu.".concat(r,".menuItem"),[...i])})(i),sx:{p:0},children:(0,C.jsx)(U.Z,{})})]},i)))),(0,C.jsx)(d.Z,{variant:"outlined",onClick:()=>{g([...m,{id:void 0,title:""}])},sx:{py:1,mr:2,ml:3,borderStyle:"dashed",background:(0,Q.Fq)(w.Z.palette.primary.light,.1),borderRadius:2},children:"Add More"})]})})};var re=n(73146),oe=n(38233),le=n(42877);const se={getOrdersList:async e=>{let{page:i,status:n,search:t}=e;return await oe.Z.get(le.J.ordersList,{params:{page:i,status:n,search:t}})},orderAction:async(e,i)=>await oe.Z.post(le.J.orderAction,e,{params:{customerId:i}}),deleteOrder:async e=>await oe.Z.delete(le.J.deleteOrder.replace(":id",e.orderId))},ae=e=>{let{index:i,onRemoveFinalInvoice:n}=e;const{control:t,formState:{errors:{finalInvoice:r}}}=(0,_.Gc)();return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(s.Z,{spacing:1,pt:2,position:"relative",direction:"row",alignItems:r?"center":"flex-end",children:[(0,C.jsx)(_.Qr,{control:t,name:"finalInvoice.".concat(i,".fTitle"),defaultValue:"",rules:{required:{value:!0,message:"Title is Required"}},render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(X.Z,{size:"small",placeholder:"Title",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,...i})}}),(0,C.jsx)(_.Qr,{control:t,name:"finalInvoice.".concat(i,".fQty"),defaultValue:"",rules:{required:{value:!0,message:"Quantity is Required"},pattern:{value:J.V0.numberOnly,message:"Quantity should be number only"}},render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(X.Z,{type:"number",size:"small",placeholder:"Quantity",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,...i})}}),(0,C.jsx)(_.Qr,{control:t,name:"finalInvoice.".concat(i,".fUnit"),defaultValue:"",rules:{required:{value:!0,message:"Unit is Required"}},render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(X.Z,{size:"small",placeholder:"Unit",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,...i})}}),(0,C.jsx)(_.Qr,{control:t,name:"finalInvoice.".concat(i,".fPrice"),defaultValue:"",rules:{required:{value:!0,message:"Price is Required"},pattern:{value:J.V0.numberOnly,message:"Price should be number only"}},render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(X.Z,{size:"small",type:"number",placeholder:"Price",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,...i})}}),(0,C.jsx)(b.Z,{sx:{background:w.Z.palette.error.main,borderRadius:2},children:(0,C.jsx)(c.Z,{onClick:n,sx:{color:w.Z.palette.common.white},children:(0,C.jsx)(U.Z,{})})})]})})};var ce=n(92630),de=n(96349),he=n(65172),ue=n(5247),xe=n(59860),me=n(46379),ge=n(71856),pe=n(31029),fe=n(64884),je=n(58617);const Ze=e=>{let{children:i,marginTop:n}=e;return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(f.Z,{textAlign:"center",fontWeight:"medium",variant:"h5",sx:{mb:3,mt:n||0,mx:3,p:1.5,borderRadius:2,backgroundColor:w.Z.palette.background.paper,boxShadow:w.Z.shadows[1]},children:i})})},ve=e=>{var i,n,r,o;let{handleCloseOrderDialog:l,orderDetail:h,onActionSuccess:u,draft:x,onSaveDraft:m}=e;const g=(0,fe.Z)(se.orderAction,{manual:!0,onSuccess:()=>{null!==h&&void 0!==h&&h.expenses&&h.expenses.length>0?p.run(h.id||0,h.expenses):u()},onError:()=>M(!0)}),p=(0,fe.Z)(de.Z.addExpense,{manual:!0,onSuccess:()=>u(),onError:()=>M(!0)}),j=(0,fe.Z)((()=>ce.Z.getCustomerList({size:1e3}))),Z=(0,fe.Z)(se.deleteOrder,{manual:!0,onSuccess(){A(!1),u()},onError:()=>M(!0)}),v=(0,_.cI)(),{setValue:y,handleSubmit:b,getValues:S}=v,[B,F]=(0,t.useState)([]),[I,K]=(0,t.useState)([]),[T,M]=(0,t.useState)(!1),[P,A]=(0,t.useState)(!1),[D,q]=(0,t.useState)();let E=0,R=(0,t.useRef)((null===h||void 0===h?void 0:h.customer)||(null===x||void 0===x?void 0:x.customer));(0,t.useEffect)((()=>{if(h){var e;const i=h.eventPackages.map((e=>{var i;return{id:null===e||void 0===e?void 0:e.id,title:e.category||"",price:+e.price||0,unit:e.unit||"\u178f\u17bb",unitPrice:+(+e.price/e.quantity).toFixed(2)||0,quantity:e.quantity||0,menuItem:null===(i=e.packageItems)||void 0===i?void 0:i.map((e=>({id:null===e||void 0===e?void 0:e.id,title:e.title||""})))}})),n=null===h||void 0===h||null===(e=h.finalInvoices)||void 0===e?void 0:e.map((e=>({id:null===e||void 0===e?void 0:e.id,fPrice:e.price||"",fQty:e.quantity||"",fTitle:e.category||"",fUnit:e.unit||""})));return y("orderId",null===h||void 0===h?void 0:h.id),y("eventLocation",h.location||""),y("paidBy",h.paidBy||""),y("bookingDate",new Date(h.bookingDate)||null),y("eventDate",new Date(h.date)||null),y("deposit",h.deposit||""),y("depositText",h.amountInKhmer||""),y("eventType",h.type||""),y("quantity",h.quantity||""),y("listMenu",i),y("finalInvoice",n),q(null===h||void 0===h?void 0:h.customer),K(i),void F(n)}if(!h&&x)return y("eventLocation",x.eventLocation),y("bookingDate",x.bookingDate),y("eventDate",x.eventDate),y("paidBy",x.paidBy),y("deposit",x.deposit),y("depositText",x.depositText),y("eventType",x.eventType),y("quantity",x.quantity),y("listMenu",x.listMenu),q(null===x||void 0===x?void 0:x.customer),void K(x.listMenu);ie(),ne()}),[]),(0,t.useEffect)((()=>{D&&y("eventLocation",D.location)}),[null===D||void 0===D?void 0:D.id]);const ie=()=>{K([...I,{id:void 0,title:"",price:"",quantity:"",unitPrice:"",unit:"",menuItem:[{id:void 0,title:""}]}])},ne=()=>{F([...B,{id:void 0,fTitle:"",fQty:"",fPrice:"",fUnit:""}])};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(ue.Z,{open:T,errorTitle:"Internal Server Error",errorMessage:(null===(i=g.error)||void 0===i?void 0:i.message)||(null===(n=Z.error)||void 0===n?void 0:n.message)||(null===(r=p.error)||void 0===r?void 0:r.message)||"Oops! There seem to be something wrong with your server.",onCloseDialog:()=>M(!1)}),(0,C.jsxs)(s.Z,{p:3,minHeight:90,direction:"row",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,sx:{backgroundColor:"#fff",zIndex:w.Z.zIndex.drawer},children:[(0,C.jsx)(f.Z,{variant:"h4",color:"secondary.main",fontWeight:"bold",children:h?"Update Order":"New Order"}),(0,C.jsxs)(s.Z,{direction:"row",alignItems:"center",spacing:4,children:[x&&(0,C.jsx)(a.Z,{title:"Clear Draft",children:(0,C.jsx)(G.Q,{color:"error",onClick:()=>{(0,me.zr)("".concat("MONGKOL_SEREY_DRAFT")),m(),v.reset(),q(void 0)},children:(0,C.jsx)(je.GJl,{})})}),(0,C.jsx)(G.Q,{color:"error",onClick:l,children:(0,C.jsx)($.FU5,{})})]})]}),(0,C.jsx)(_.RV,{...v,children:(0,C.jsxs)("form",{onSubmit:b((e=>{var i,n;g.run({id:e.orderId||void 0,amountInKhmer:e.depositText,bookingDate:z()(e.bookingDate).format("yyyy-MM-DD"),date:z()(e.eventDate).format("yyyy-MM-DD"),deposit:+e.deposit,location:e.eventLocation,quantity:+e.quantity,type:e.eventType,paidBy:e.paidBy,eventPackages:null===(i=e.listMenu)||void 0===i?void 0:i.map((e=>{var i;return{id:e.id,category:e.title,price:+e.price,quantity:+e.quantity,unit:void 0===e.unit||""===e.unit?"\u178f\u17bb":e.unit,packageItems:(null===(i=e.menuItem)||void 0===i?void 0:i.map((e=>({id:e.id,title:e.title}))))||[]}})),finalInvoices:h?null===(n=e.finalInvoice)||void 0===n?void 0:n.map((e=>({id:e.id,category:e.fTitle,price:+e.fPrice,quantity:+e.fQty,unit:e.fUnit}))):[]},null===D||void 0===D?void 0:D.id)})),children:[(0,C.jsx)(Ze,{children:"Order Info"}),(0,C.jsxs)(s.Z,{px:3,spacing:4,children:[(0,C.jsx)(s.Z,{spacing:4,direction:"row",children:(0,C.jsx)(ee.Z,{label:"Customer",children:(0,C.jsx)(W.Z,{disableClearable:!0,openOnFocus:!0,loading:j.loading,defaultValue:R.current,onChange:(e,i)=>{q(i)},renderInput:e=>(0,C.jsx)(X.Z,{placeholder:"Select Customer",...e}),getOptionLabel:e=>(null===e||void 0===e?void 0:e.customer_name)||"",renderOption:(e,i)=>i&&(0,t.createElement)(O.Z,{...e,key:i.id},"".concat(null===i||void 0===i?void 0:i.id,". ").concat(null===i||void 0===i?void 0:i.customer_name)),options:(null===(o=j.data)||void 0===o?void 0:o.data)||[]})})}),(0,C.jsxs)(s.Z,{spacing:4,direction:"row",children:[(0,C.jsx)(_.Qr,{control:v.control,name:"eventType",defaultValue:"",rules:{required:{value:!0,message:"Event type is Required"}},render:e=>{let{field:{onChange:i,...n},fieldState:{error:t}}=e;return(0,C.jsx)(ee.Z,{label:"Event Type",children:(0,C.jsx)(W.Z,{freeSolo:!0,disableClearable:!0,openOnFocus:!0,id:"eventType",...n,onInputChange:(e,i)=>{y("eventType",i)},renderInput:e=>(0,C.jsx)(X.Z,{placeholder:"Enter Event Type",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message,...e}),options:k.oQ})})}}),(0,C.jsx)(_.Qr,{control:v.control,name:"quantity",defaultValue:"",rules:{required:{value:!0,message:"Quantity is required"},pattern:{value:J.V0.numberOnly,message:"Quantity is number only"}},render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(ee.Z,{label:"Quantity",children:(0,C.jsx)(X.Z,{placeholder:"Quantity",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,...i})})}})]}),(0,C.jsxs)(s.Z,{spacing:4,direction:"row",children:[(0,C.jsx)(_.Qr,{control:v.control,name:"eventDate",defaultValue:null,rules:{required:{value:!0,message:"Event date is Required"}},render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(ee.Z,{label:"Event Date",children:(0,C.jsx)(L._,{dateAdapter:H.Z,children:(0,C.jsx)(N.M,{inputFormat:"DD-MM-YYYY",...i,InputAdornmentProps:{sx:{"& .MuiIconButton-root":{color:w.Z.palette.primary.main}}},renderInput:e=>(0,C.jsx)(X.Z,{placeholder:"Enter Event Date",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,sx:{"& fieldset":{border:n?"solid 0.5px ".concat(w.Z.palette.error.main):{}}},FormHelperTextProps:{sx:{color:w.Z.palette.error.main}},...e})})})})}}),(0,C.jsx)(_.Qr,{control:v.control,name:"bookingDate",defaultValue:new Date,rules:{required:{value:!0,message:"Booking date is Required"}},render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(ee.Z,{label:"Booking Date",children:(0,C.jsx)(L._,{dateAdapter:H.Z,children:(0,C.jsx)(N.M,{inputFormat:"DD-MM-YYYY",...i,InputAdornmentProps:{sx:{"& .MuiIconButton-root":{color:w.Z.palette.primary.main}}},renderInput:e=>(0,C.jsx)(X.Z,{placeholder:"Enter Booking Date",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,sx:{"& fieldset":{border:n?"solid 0.5px ".concat(w.Z.palette.error.main):{}}},FormHelperTextProps:{sx:{color:w.Z.palette.error.main}},...e})})})})}})]}),(0,C.jsxs)(s.Z,{spacing:4,direction:"row",children:[(0,C.jsx)(_.Qr,{control:v.control,name:"deposit",defaultValue:"",rules:{required:{value:!0,message:"Deposit is Required"},pattern:{value:J.V0.numberOnly,message:"Deposit amount should be number only"}},render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(ee.Z,{label:"Deposit",children:(0,C.jsx)(X.Z,{type:"number",placeholder:"Enter Deposit",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,...i})})}}),(0,C.jsx)(_.Qr,{control:v.control,name:"depositText",defaultValue:"\u178a\u17bb\u179b\u17d2\u179b\u17b6\u179a\u17a2\u17b6\u1798\u17c1\u179a\u17b7\u1780",render:e=>{let{field:i}=e;return(0,C.jsx)(ee.Z,{label:"Amount in Khmer",children:(0,C.jsx)(X.Z,{placeholder:"Enter Amount in Khmer",...i})})}})]}),(0,C.jsxs)(s.Z,{spacing:4,direction:"row",children:[(0,C.jsx)(_.Qr,{control:v.control,name:"eventLocation",defaultValue:"",rules:{required:{value:!0,message:"Event location is Required"}},render:e=>{let{field:i,fieldState:{error:n}}=e;return(0,C.jsx)(ee.Z,{label:"Event Location",children:(0,C.jsx)(X.Z,{placeholder:"Enter Event Location",error:Boolean(n),helperText:null===n||void 0===n?void 0:n.message,...i})})}}),(0,C.jsx)(_.Qr,{control:v.control,name:"paidBy",defaultValue:"",rules:{required:{value:!0,message:"Paid by is Required"}},render:e=>{let{field:{onChange:i,...n},fieldState:{error:t}}=e;return(0,C.jsx)(ee.Z,{label:"Paid By",children:(0,C.jsx)(W.Z,{freeSolo:!0,disableClearable:!0,openOnFocus:!0,id:"paidby",...n,onInputChange:(e,i)=>{y("paidBy",i)},renderInput:e=>(0,C.jsx)(X.Z,{placeholder:"Enter paid by",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message,...e}),options:k.u7.map((e=>e))})})}})]})]}),(0,C.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mx:3,mt:4,mb:1,position:"sticky",top:90,bgcolor:"common.white",zIndex:w.Z.zIndex.appBar-1},children:[(0,C.jsx)(f.Z,{fontWeight:"medium",children:"List Orders"}),(0,C.jsx)(d.Z,{color:"info",startIcon:(0,C.jsx)(V.L3d,{}),onClick:ie,sx:{textTransform:"capitalize"},children:"Add More"})]}),(0,C.jsx)(ge.M,{children:I&&I.length>0?null===I||void 0===I?void 0:I.map(((e,i)=>(0,C.jsx)(pe.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:"easeInOut"},children:(0,C.jsx)(te,{index:i,menuItemsP:e.menuItem,onRemoveOrder:()=>(e=>{const i=v.watch("listMenu");i.splice(e,1),K([...i]),y("listMenu",[...i])})(i)})},E++))):(0,C.jsxs)(s.Z,{alignItems:"center",spacing:2,sx:{mx:3,p:2,borderRadius:2,bgcolor:(0,Q.Fq)(w.Z.palette.error.light,.1)},children:[(0,C.jsx)(Y.Z,{size:"48",color:w.Z.palette.error.main}),(0,C.jsx)(f.Z,{color:"error",width:"100%",textAlign:"center",mb:3,children:"No Order Item..."})]})}),h&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Ze,{marginTop:8,children:"Final Invoice"}),B&&B.length>0&&(0,C.jsxs)(s.Z,{width:"100%",spacing:1,pt:2,px:3,position:"relative",direction:"row",alignItems:"center",children:[(0,C.jsx)(f.Z,{sx:{flex:1},children:"Title"}),(0,C.jsx)(f.Z,{sx:{flex:1},children:"Quanity"}),(0,C.jsx)(f.Z,{sx:{flex:1},children:"Unit"}),(0,C.jsx)(f.Z,{sx:{flex:1},children:"Total Price"}),(0,C.jsx)("div",{style:{width:40}})]}),(0,C.jsxs)(s.Z,{px:3,children:[B&&B.length>0?B.map(((e,i)=>(0,C.jsx)(ae,{index:i,onRemoveFinalInvoice:()=>(e=>{const i=v.watch("finalInvoice");i.splice(e,1),F([...i]),y("finalInvoice",[...i])})(i)},i))):(0,C.jsxs)(s.Z,{alignItems:"center",spacing:2,sx:{py:1.5,borderRadius:2,bgcolor:(0,Q.Fq)(w.Z.palette.error.light,.1)},children:[(0,C.jsx)(Y.Z,{size:"48",color:w.Z.palette.error.main}),(0,C.jsx)(f.Z,{color:"error",width:"100%",textAlign:"center",mt:1,children:"Final Invoice is Empty..."}),(0,C.jsxs)(s.Z,{direction:"row",children:[(0,C.jsx)(d.Z,{variant:"text",color:"info",onClick:ne,sx:{mx:2,mt:1},children:"Add More"}),(0,C.jsx)(d.Z,{variant:"text",color:"success",onClick:()=>{const e=v.watch("listMenu").map((e=>({id:void 0,fPrice:e.price,fQty:e.quantity,fTitle:e.title,fUnit:e.unit})));F(e),y("finalInvoice",e)},sx:{mx:2,mt:1},children:"Generate"})]})]}),B&&B.length>0&&(0,C.jsx)(d.Z,{variant:"outlined",onClick:ne,sx:{mt:2,py:1,borderStyle:"dashed",background:(0,Q.Fq)(w.Z.palette.primary.light,.2)},children:"Add More"})]})]}),(0,C.jsxs)(s.Z,{height:50,px:3,mt:10,mb:3,spacing:2,position:"relative",direction:"row",children:[!h&&(0,C.jsx)(d.Z,{onClick:()=>{let e={bookingDate:S("bookingDate"),deposit:S("deposit"),depositText:S("depositText"),eventDate:S("eventDate"),eventLocation:S("eventLocation"),eventType:S("eventType"),paidBy:S("paidBy"),quantity:S("quantity"),listMenu:S("listMenu")||[],customer:D};(0,me.xi)("MONGKOL_SEREY_DRAFT",e),m(e),l()},variant:"contained",fullWidth:!0,disableElevation:!0,color:"info",sx:{fontSize:18,fontWeight:"medium",p:1.5,borderRadius:2,boxShadow:1,background:e=>e.palette.info.main,color:"#fff",textTransform:"capitalize"},children:"Save Draft"}),(0,C.jsx)(xe.Z,{type:"submit",variant:"contained",fullWidth:!0,disableElevation:!0,loading:g.loading||p.loading,sx:{fontSize:18,fontWeight:"medium",p:1.5,borderRadius:2,boxShadow:1,background:re.Z.goldGradientMain,textTransform:"capitalize",color:"#fff"},children:h?"Update":"Upload"}),h&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.Z,{color:"inherit",onClick:()=>A(!0),sx:{aspectRatio:"1/1",width:"50px",height:"100%",color:"#fff",background:e=>e.palette.error.main,"&:hover":{background:e=>e.palette.error.light}},children:(0,C.jsx)(U.Z,{})}),(0,C.jsx)(he.Z,{open:P,title:"Are you sure you want to delete this order?",confirm:()=>{var e;return Z.run({orderId:(null===h||void 0===h||null===(e=h.id)||void 0===e?void 0:e.toString())||"0"})},cancel:()=>A(!1),loading:Z.loading})]})]})]})})]})};var ye=n(76509),be=n(13141),Se=n(73150),we=n(58536),Be=n(80175),Fe=n(51378),Ie=n(39421),ze=n(61146),ke=n.n(ze),Ce=n(11087),Ke=n(52764);const Te=()=>{var e,i,n,B;const{isMdDown:F,isSmDown:I}=(0,R.Z)(),[z,k]=(0,Ce.lr)(),K=z.get("id"),T=(0,t.useRef)(null),P=(0,t.useRef)(null),{navigate:W}=(0,Ke.Z)(),[O,Q]=(0,t.useState)("pending"),[_,V]=(0,t.useState)(),[L,N]=(0,t.useState)(!1),[U,H]=(0,t.useState)(!1),[G,$]=(0,t.useState)(),[J,X]=t.useState(1),[ee,ie]=(0,t.useState)(""),[ne,te]=(0,t.useState)((0,me.wU)("".concat("MONGKOL_SEREY_DRAFT"))),{data:re,run:oe,runAsync:ae,loading:ce,refresh:de}=(0,fe.Z)(se.getOrdersList,{manual:!0,onSuccess:()=>H(!1),onError:()=>H(!1)}),{run:he}=(0,fe.Z)(ae,{manual:!0,debounceWait:500,onSuccess:e=>{if(K){const i=e.data.find((e=>e.id===+K));$(i)}}});(0,t.useEffect)((()=>{""===ee?(H(!0),oe({page:"".concat(J-1),status:O,search:""})):he({page:"".concat(J-1),status:O,search:ee})}),[O,J,ee]),(0,t.useEffect)((()=>{K&&(Q("all"),ie("#".concat(K)))}),[]);const ue=()=>{N(!1),V(void 0)},xe=()=>{$(void 0),z.delete("id"),k(z)},je=(0,t.useCallback)((e=>$(re.data[e])),[re]),Ze=(0,t.useCallback)((e=>V(re.data[e])),[re]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(E.Z,{pageTitle:"Orders"}),(0,C.jsxs)(r.Z,{elevation:1,sx:{position:"relative",mx:2,borderRadius:3,height:"calc(100vh - 100px)",maxWidth:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,C.jsxs)(o.ZP,{container:!0,p:2,rowSpacing:2,children:[(0,C.jsx)(o.ZP,{item:!0,xs:12,sm:12,md:4,children:(0,C.jsxs)(l.Z,{value:O,exclusive:!0,fullWidth:!0,size:"small",onChange:(e,i)=>{null!==i&&(Q(i),X(1))},children:[(0,C.jsx)(q.Z,{value:"pending",children:"Pending"}),(0,C.jsx)(q.Z,{value:"complete",children:"Completed"}),(0,C.jsx)(q.Z,{value:"all",children:"All"})]})}),(0,C.jsx)(o.ZP,{item:!0,xs:12,sm:12,md:8,children:(0,C.jsxs)(o.ZP,{container:!0,columnSpacing:2,alignItems:"center",children:[(0,C.jsx)(o.ZP,{item:!0,xs:4,sm:6,md:8,lg:8,xl:10,children:(0,C.jsx)(s.Z,{direction:"row",spacing:2,justifyContent:F?"flex-start":"flex-end",alignItems:"center",children:I?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(a.Z,{title:"Quotation",children:(0,C.jsx)(c.Z,{sx:{color:e=>e.palette.common.white,background:e=>e.palette.secondary.main,height:"100%"},onClick:()=>W(le.u.quotation),children:(0,C.jsx)(be.Z,{variant:"Bold",size:"16"})})}),(0,C.jsx)(a.Z,{title:"Order",children:(0,C.jsx)(c.Z,{onClick:()=>N(!0),sx:{color:e=>e.palette.common.white,background:e=>e.palette.primary.main,height:"100%"},children:(0,C.jsx)(Se.Z,{variant:"Bold",size:16})})})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.Z,{variant:"contained",sx:{color:w.Z.palette.common.white,boxShadow:w.Z.shadows[1],borderRadius:2,textTransform:"none",height:40,position:"relative",overflow:"hidden",zIndex:2},color:"secondary",startIcon:(0,C.jsx)(be.Z,{variant:"Bold",size:"16"}),onClick:()=>W(le.u.quotation),children:"Quotation"}),(0,C.jsx)(d.Z,{variant:"contained",sx:{color:w.Z.palette.common.white,boxShadow:w.Z.shadows[1],borderRadius:2,textTransform:"none",height:40,position:"relative",overflow:"hidden",zIndex:2},startIcon:(0,C.jsx)(Se.Z,{variant:"Bold",size:16}),onClick:()=>N(!0),children:"Order"})]})})}),(0,C.jsx)(o.ZP,{item:!0,xs:8,sm:6,md:4,lg:4,xl:2,children:(0,C.jsx)(D.Z,{placeholder:"Search...",size:"small",value:ee,onChange:e=>{ie(e.currentTarget.value),X(1)},onKeyUp:e=>{"Enter"===e.key&&he({page:"".concat(J-1),status:O,search:ee})},InputProps:{endAdornment:(0,C.jsx)(h.Z,{position:"end",children:(0,C.jsx)(we.Z,{size:"20",color:w.Z.palette.primary.main})})},sx:{float:"right"}})})]})})]}),(0,C.jsx)(u.Z,{className:"hide-scrollbar",sx:{flexGrow:1,overflow:"auto"},children:ce&&U&&!re?(0,C.jsx)(s.Z,{direction:"column",alignItems:"center",justifyContent:"center",sx:{height:"100%"},children:(0,C.jsx)(Ie.W,{})}):re&&re.data.length>0?(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(x.Z,{sx:{minWidth:1e3},children:[(0,C.jsx)(ye.f,{}),(0,C.jsxs)(m.Z,{children:[(0,C.jsx)(ge.M,{exitBeforeEnter:!0,children:ce&&(0,C.jsx)(g.Z,{component:pe.E.tr,layout:!0,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1,transition:{delay:.3,ease:"easeInOut"}},exit:{scale:0,opacity:0,transition:{delay:0,ease:"easeInOut"}},children:(0,C.jsx)(p.Z,{colSpan:8,sx:{textAlign:"center"},children:(0,C.jsx)(Ie.W,{})})})}),(0,C.jsx)(ye.Z,{data:ce?[]:re.data,onPrintClick:je,onEditClick:Ze,isExpense:!1})]})]})}):(0,C.jsxs)(s.Z,{direction:"column",alignItems:"center",justifyContent:"center",spacing:1,sx:{height:"100%"},children:[(0,C.jsx)(Y.Z,{size:"80",color:w.Z.palette.error.main}),(0,C.jsx)(f.Z,{variant:"h6",color:"error",children:"No Order Data"})]})}),(0,C.jsx)(s.Z,{alignItems:"center",width:"100%",p:1.5,sx:{bgcolor:"background.paper"},children:(0,C.jsx)(j.Z,{count:null===re||void 0===re?void 0:re.totalPage,page:J,onChange:(e,i)=>{X(i)},color:"primary",variant:"outlined",sx:{"& .MuiPaginationItem-root":{borderWidth:0}}})})]}),(0,C.jsx)(Z.ZP,{open:L||void 0!==_,anchor:"right",PaperProps:{sx:{borderRadius:0,width:{xs:"100vw",md:"50vw"}}},children:(0,C.jsx)(ve,{handleCloseOrderDialog:ue,orderDetail:_,draft:ne,onActionSuccess:()=>{de(),ue()},onSaveDraft:e=>{te(e)}})}),(0,C.jsxs)(v.Z,{open:void 0!==G,onClose:xe,fullScreen:!0,PaperProps:{sx:{borderRadius:[3,0,3],width:"auto",height:["auto","100vh","95vh"]}},children:[!I&&(0,C.jsx)(y.Z,{sx:{position:"sticky",top:0,boxShadow:e=>e.shadows[2],zIndex:e=>e.zIndex.drawer+3,backgroundColor:"#fff"},children:(0,C.jsxs)(s.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,C.jsx)(d.Z,{variant:"text",startIcon:(0,C.jsx)(Be.Z,{}),onClick:xe,children:"Back"}),(0,C.jsxs)(s.Z,{direction:"row",spacing:2,children:[(0,C.jsx)(ke(),{pageStyle:Me,documentTitle:"".concat((null===G||void 0===G||null===(e=G.customer)||void 0===e?void 0:e.customer_name)||"Default","-Booking-Invoice"),trigger:()=>(0,C.jsx)(d.Z,{variant:"contained",color:"info",disableElevation:!0,sx:{color:"#fff",boxShadow:w.Z.shadows[1],borderRadius:w.Z.spacing(1)},startIcon:(0,C.jsx)(Fe.Z,{}),children:"Booking"}),content:()=>T.current}),(null===G||void 0===G?void 0:G.finalInvoices)&&G.finalInvoices.length>0&&(0,C.jsx)(ke(),{pageStyle:Me,documentTitle:"".concat(null===G||void 0===G||null===(i=G.customer)||void 0===i?void 0:i.customer_name,"-Final-Invoice"),trigger:()=>(0,C.jsx)(d.Z,{variant:"contained",color:"success",disableElevation:!0,sx:{color:"#fff",boxShadow:w.Z.shadows[1],borderRadius:w.Z.spacing(1)},startIcon:(0,C.jsx)(Fe.Z,{}),children:"Final Invoice"}),content:()=>P.current})]})]})}),(0,C.jsx)(b.Z,{sx:{scale:"0.8",transform:"translateY(-100px)",display:I?"none":"block"},children:G&&(0,C.jsx)(A,{ref:T,order:G})}),!I&&(0,C.jsx)(S.Z,{sx:{borderWidth:"5px"}}),(null===G||void 0===G?void 0:G.finalInvoices)&&G.finalInvoices.length>0&&(0,C.jsx)(b.Z,{sx:{scale:"0.8",pt:"100px",pb:"100px",display:I?"none":"block"},children:(0,C.jsx)(M,{ref:P,order:G})}),I&&(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(s.Z,{direction:"row",sx:{height:"100%",p:4},alignItems:"center",justifyContent:"center",spacing:2,children:[(0,C.jsx)(ke(),{pageStyle:Me,documentTitle:"".concat((null===G||void 0===G||null===(n=G.customer)||void 0===n?void 0:n.customer_name)||"Default","-Booking-Invoice"),trigger:()=>(0,C.jsx)(d.Z,{variant:"contained",color:"info",disableElevation:!0,sx:{color:"#fff",boxShadow:w.Z.shadows[1],borderRadius:w.Z.spacing(1)},startIcon:(0,C.jsx)(Fe.Z,{}),children:"Booking"}),content:()=>T.current}),(null===G||void 0===G?void 0:G.finalInvoices)&&G.finalInvoices.length>0&&(0,C.jsx)(ke(),{pageStyle:Me,documentTitle:"".concat(null===G||void 0===G||null===(B=G.customer)||void 0===B?void 0:B.customer_name,"-Final-Invoice"),trigger:()=>(0,C.jsx)(d.Z,{variant:"contained",color:"success",disableElevation:!0,sx:{color:"#fff",boxShadow:w.Z.shadows[1],borderRadius:w.Z.spacing(1)},startIcon:(0,C.jsx)(Fe.Z,{}),children:"Final Invoice"}),content:()=>P.current})]})})]})]})},Me="@page {\n  size: A4;\n  margin:2.54cm;\n}\n\n@media all {\n  .pagebreak {\n    display: none;\n  }\n}\n\n@media print {\n  .pagebreak {\n    page-break-before: always;\n  }\n}"},73146:(e,i,n)=>{n.d(i,{Z:()=>t});const t={goldGradientMain:"linear-gradient(90deg, #A17B11 0%, #EDC650 38%, #B28E22 100%)",goldGradientLight:"linear-gradient(90deg, #AE8625 0%, #F7EF8A 30%, #D2AC47 73%, #EDC967 100%)"}}}]);
//# sourceMappingURL=277.cf883eaa.chunk.js.map
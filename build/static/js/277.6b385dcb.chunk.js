"use strict";(self.webpackChunkmongkol_serey_cms=self.webpackChunkmongkol_serey_cms||[]).push([[277],{92630:function(e,n,t){var i=t(74165),r=t(15861),o=t(38233),l=t(42877),a={getCustomerList:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t,r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,r=n.search,n.size,e.next=3,o.Z.get(l.J.customersList,{params:{page:t,size:12,search:r}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getCustomerDetails:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,e.next=3,o.Z.get(l.J.customerDetails.replace(":id","".concat(t)));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),postNewCustomer:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.cusRequest,e.next=3,o.Z.post(l.J.addCustomer,t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),deleteCustomer:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,e.next=3,o.Z.delete(l.J.deletCustomer.replace(":id","".concat(t)));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};n.Z=a},65172:function(e,n,t){t.d(n,{Z:function(){return g}});var i=t(45987),r=t(1413),o=t(72791),l=t(5574),a=t(55931),s=t(53767),c=t(20890),d=t(36151),u=t(20124),h=t(66254),x=t(59860),m=t(80184),f=["open","title","confirm","cancel","loading"],p=o.forwardRef((function(e,n){return(0,m.jsx)(a.Z,(0,r.Z)({direction:"up",ref:n},e))}));function g(e){var n=e.open,t=e.title,o=e.confirm,a=e.cancel,g=e.loading,Z=(0,i.Z)(e,f);return(0,m.jsx)(l.Z,(0,r.Z)((0,r.Z)({open:n,TransitionComponent:p,maxWidth:e.maxWidth,onClose:a},Z),{},{children:(0,m.jsxs)(s.Z,{alignItems:"center",sx:{p:4},spacing:3,children:[(0,m.jsxs)(s.Z,{alignItems:"center",children:[(0,m.jsx)(u.Z,{size:"60",color:h.Z.palette.error.main,variant:"Bulk"}),(0,m.jsx)(c.Z,{variant:"body1",color:"error",children:t})]}),(0,m.jsxs)(s.Z,{direction:"row",spacing:4,children:[(0,m.jsx)(d.Z,{variant:"outlined",color:"error",sx:{"&:hover":{bgcolor:h.Z.palette.error.main,color:h.Z.palette.common.white}},onClick:a,children:"Cancel"}),(0,m.jsx)(x.Z,{onClick:o,loading:g,variant:"outlined",color:"info",loadingIndicator:"Deletting\u2026",children:"Confirm"})]})]})}))}},84753:function(e,n,t){var i=t(53767),r=t(20890),o=(t(72791),t(80184));n.Z=function(e){var n=e.label,t=e.children;return(0,o.jsxs)(i.Z,{spacing:1,width:"100%",children:[(0,o.jsx)(r.Z,{fontSize:14,children:n}),t]})}},52764:function(e,n,t){t.d(n,{u:function(){return l.u}});var i=t(29439),r=t(57689),o=t(11087),l=t(42877);n.Z=function(){var e=(0,r.s0)(),n=(0,r.UO)(),t=(0,r.TH)(),l=(0,o.lr)(),a=(0,i.Z)(l,2);return{navigate:e,urlParams:n,location:t,searchParams:a[0],setSearchParams:a[1]}}},64277:function(e,n,t){t.r(n),t.d(n,{default:function(){return qe}});var i=t(29439),r=t(72791),o=t(35527),l=t(61889),a=t(72466),s=t(53767),c=t(20068),d=t(13400),u=t(36151),h=t(63466),x=t(39281),m=t(79836),f=t(53382),p=t(35855),g=t(53994),Z=t(20890),j=t(57246),v=t(73974),y=t(5574),b=t(65661),S=t(68870),w=t(94721),T=t(66254),P=t(93044),I=t(56890),A=t(72426),E=t.n(A),C=t(82139),B=t(80184),F={Wedding:"\u1796\u17b7\u1792\u17b8\u179a\u17c0\u1794\u1798\u1784\u17d2\u1782\u179b\u1780\u17b6\u179a",Party:"\u1796\u17b7\u1792\u17b8\u1787\u1794\u17cb\u179b\u17c0\u1784",Birthday:"\u1796\u17b7\u1792\u17b8\u1781\u17bd\u1794\u1780\u17c6\u178e\u17be\u178f"},_=r.forwardRef((function(e,n){var t,i,r,o,a=e.order,c=null===(t=a.finalInvoices)||void 0===t?void 0:t.reduce((function(e,n){return e+n.price}),0);return(0,B.jsxs)(S.Z,{ref:n,sx:{width:"21cm",height:"auto",bgcolor:"white"},children:[(0,B.jsxs)(l.ZP,{container:!0,children:[(0,B.jsx)(l.ZP,{item:!0,xs:8,children:(0,B.jsxs)(s.Z,{sx:{height:"100%"},alignItems:"flex-start",spacing:.5,children:[(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1798\u1784\u17d2\u1782\u179b\u179f\u17b7\u179a\u17b8\u1798\u17d2\u17a0\u17bc\u1794&\u178f\u17bb\u179a\u17c4\u1784\u1780\u17b6\u179a"}),(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,whiteSpace:"nowrap",children:"\u17a2\u17b6\u179f\u17d0\u1799\u178a\u17d2\u178b\u17b6\u1793\u200b\u17d6"}),(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,whiteSpace:"pre-line",children:"\u179c\u178e\u17d2\u178e\u17b6\u179a\u17b8\u179c\u17b8\u17a1\u17b6 \u1782\u1798\u17d2\u179a\u17c4\u178403 \u1795\u17d2\u1791\u17c7\u179b\u17c1\u1781 NR23 \u1795\u17d2\u179b\u17bc\u179c\u1794\u17c1\u178f\u17bb\u1784\n                  \u1781\u178e\u17d2\u178c\u1780\u17c6\u1794\u17bc\u179b \u179a\u17b6\u1787\u1792\u17b6\u1793\u17b8\u1797\u17d2\u1793\u17c6\u1796\u17c1\u1789"})]}),(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1791\u17bc\u179a\u179f\u17d0\u1796\u17d2\u1791\u179b\u17c1\u1781\u200b\u17d6"}),(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"+85581951133 | 011951133"})]})]})}),(0,B.jsxs)(l.ZP,{item:!0,xs:4,children:[(0,B.jsx)(P.Z,{variant:"square",src:"/images/mongkol_serey_logo_1000.png",alt:"logo",imgProps:{sx:{objectFit:"contain"}},sx:{mx:"auto",width:167,height:"auto",my:2}}),(0,B.jsxs)(s.Z,{spacing:.5,children:[(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{fontWeight:"bold",whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u179b\u17c1\u1781\u179c\u17b7\u1780\u17d0\u1799\u1794\u178f\u17d2\u179a\u17d6"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:a.id&&function(e){var n="00000";return n.substring(0,n.length-e.length)+e}(a.id.toString())})]}),(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u200b\u17d6"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:null===(i=a.customer)||void 0===i?void 0:i.customer_name})]}),(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1791\u17bc\u179a\u179f\u17d0\u1796\u17d2\u1791\u179b\u17c1\u1781\u200b\u17d6"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:null===(r=a.customer)||void 0===r?void 0:r.contact_number})]}),(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u200b\u17d6"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:E()(a.date).format("DD.MM.YYYY")})]}),(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1791\u17b8\u178f\u17b6\u17c6\u1784\u200b\u17d6"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:a.location})]})]})]})]}),(0,B.jsxs)(Z.Z,{textAlign:"center",padding:2,fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:20,children:["\u179c\u17b7\u1780\u17d0\u1799\u1794\u178f\u17d2\u179a ",F["".concat(a.type)]]}),(0,B.jsxs)(m.Z,{sx:{"& thead  th, tbody  td":{border:"1px solid black",borderCollapse:"collapse",fontFamily:"Khmer Busra high",fontWeight:T.Z.typography.fontWeightBold,py:1,color:"black",fontSize:18},"& thead th":{textAlign:"center"},"& .css-1b87so5-MuiTableCell-root":{color:"black"}},children:[(0,B.jsx)(I.Z,{children:(0,B.jsxs)(p.Z,{children:[(0,B.jsx)(g.Z,{width:"5%",children:"\u179b.\u179a"}),(0,B.jsx)(g.Z,{width:"45%",children:"\u179a\u17b6\u1799\u1788\u17d2\u1798\u17c4\u17c7\u1798\u17bb\u1781\u1798\u17d2\u17a0\u17bc\u1794"}),(0,B.jsx)(g.Z,{width:"15%",children:"\u1785\u17c6\u1793\u17bd\u1793"}),(0,B.jsx)(g.Z,{width:"15%",children:"\u178f\u1798\u17d2\u179b\u17c3\u179a\u17b6\u1799"}),(0,B.jsx)(g.Z,{width:"20%",children:"\u179f\u179a\u17bb\u1794\u179a\u1784"})]})}),(0,B.jsxs)(f.Z,{children:[null===(o=a.finalInvoices)||void 0===o?void 0:o.map((function(e,n){return(0,B.jsxs)(p.Z,{children:[(0,B.jsx)(g.Z,{sx:{textAlign:"center"},children:n+1}),(0,B.jsx)(g.Z,{children:e.category}),(0,B.jsxs)(g.Z,{sx:{textAlign:"center"},children:[e.quantity,e.unit]}),(0,B.jsxs)(g.Z,{sx:{textAlign:"center"},children:[Intl.NumberFormat().format(e.price/e.quantity),"$"]}),(0,B.jsxs)(g.Z,{sx:{textAlign:"center"},children:[Intl.NumberFormat().format(e.price),"$"]})]},e.id)})),(0,B.jsx)(p.Z,{children:(0,B.jsxs)(g.Z,{colSpan:5,sx:{textAlign:"center"},children:["\u178f\u1798\u17d2\u179b\u17c3\u179f\u179a\u17bb\u1794 ",Intl.NumberFormat().format(c),"$"]})}),(0,B.jsx)(p.Z,{children:(0,B.jsxs)(g.Z,{colSpan:5,sx:{textAlign:"center"},children:["\u1794\u17b6\u1793\u1780\u1780\u17cb ",Intl.NumberFormat().format(a.deposit),"$"]})}),(0,B.jsx)(p.Z,{children:(0,B.jsxs)(g.Z,{colSpan:5,sx:{textAlign:"center"},children:["\u1794\u17d2\u179a\u17b6\u1780\u17cb\u1793\u17c5\u179f\u179b\u17cb"," ",Intl.NumberFormat().format(c-a.deposit),"$"]})})]})]}),(0,B.jsxs)(S.Z,{sx:{mt:4},children:[(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,lineHeight:1.8,children:"\u17e1. \u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u178f\u17d2\u179a\u17bc\u179c\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u179f\u17c1\u179c\u17b6\u1780\u1798\u17d2\u1798\u1791\u17b6\u17c6\u1784\u17a2\u179f\u17cb\u1799\u17c9\u17b6\u1784\u1799\u17bc\u179a \u178f\u17d2\u179a\u17b9\u1798\u1798\u17c9\u17c4\u1784 11\u1790\u17d2\u1784\u17c3\u178f\u17d2\u179a\u1784\u17cb \u1794\u1793\u17d2\u1791\u17b6\u1794\u17cb\u1796\u17b8\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u179a\u17bd\u1785\u1780\u17b6\u179b\u1796\u17b8\u1799\u1794\u17cb \u1780\u17d2\u1793\u17bb\u1784\u1780\u179a\u178e\u17b8\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u1799\u17ba\u178f\u178f\u17d2\u179a\u17bc\u179c\u1794\u1784\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u1796\u17b7\u1793\u17d0\u1799 \u1799\u17ba\u178f1\u1790\u17d2\u1784\u17c3 100$ \u17ac 3\u1790\u17d2\u1784\u17c3 500$\u17d4"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,lineHeight:1.8,children:"\u17e2. \u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u200b\u17a2\u17b6\u1785\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u178f\u17b6\u1798\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799\u1792\u1793\u17b6\u1782\u17b6\u179a\u178a\u17bc\u1785\u1781\u17b6\u1784\u1780\u17d2\u179a\u17c4\u1798 \u17d6"}),(0,B.jsxs)(l.ZP,{container:!0,columnSpacing:2,rowSpacing:1,sx:{px:4},children:[(0,B.jsx)(l.ZP,{item:!0,xs:6,children:(0,B.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799 ABA"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u17d6"})]})}),(0,B.jsx)(l.ZP,{item:!0,xs:!0,children:(0,B.jsxs)(s.Z,{direction:"row",spacing:2,children:[(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"999119199"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"(Ratha Mengey)"})]})}),(0,B.jsx)(l.ZP,{item:!0,xs:6,children:(0,B.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799 Acleda Toanchet"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u17d6"})]})}),(0,B.jsx)(l.ZP,{item:!0,xs:!0,children:(0,B.jsx)(s.Z,{direction:"row",spacing:2,children:(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"081951133"})})}),(0,B.jsx)(l.ZP,{item:!0,xs:6,children:(0,B.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799 Wing"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u17d6"})]})}),(0,B.jsx)(l.ZP,{item:!0,xs:!0,children:(0,B.jsx)(s.Z,{direction:"row",spacing:2,children:(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"081951133"})})})]})]})]})})),z=_,R=r.forwardRef((function(e,n){var t,i,r,o,a=e.order,c=E()(a.bookingDate).format("MMMM"),d=E()(a.bookingDate).format("DD"),u=E()(a.bookingDate).format("YYYY");return(0,B.jsxs)(S.Z,{ref:n,sx:{width:"21cm",height:"auto",bgcolor:"white"},children:[(0,B.jsxs)(l.ZP,{container:!0,children:[(0,B.jsx)(l.ZP,{item:!0,xs:8,children:(0,B.jsxs)(s.Z,{sx:{height:"100%"},alignItems:"flex-start",spacing:.5,children:[(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1798\u1784\u17d2\u1782\u179b\u179f\u17b7\u179a\u17b8\u1798\u17d2\u17a0\u17bc\u1794&\u178f\u17bb\u179a\u17c4\u1784\u1780\u17b6\u179a"}),(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,whiteSpace:"nowrap",children:"\u17a2\u17b6\u179f\u17d0\u1799\u178a\u17d2\u178b\u17b6\u1793\u200b\u17d6"}),(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,whiteSpace:"pre-line",children:"\u179c\u178e\u17d2\u178e\u17b6\u179a\u17b8\u179c\u17b8\u17a1\u17b6 \u1782\u1798\u17d2\u179a\u17c4\u178403 \u1795\u17d2\u1791\u17c7\u179b\u17c1\u1781 NR23 \u1795\u17d2\u179b\u17bc\u179c\u1794\u17c1\u178f\u17bb\u1784\n                  \u1781\u178e\u17d2\u178c\u1780\u17c6\u1794\u17bc\u179b \u179a\u17b6\u1787\u1792\u17b6\u1793\u17b8\u1797\u17d2\u1793\u17c6\u1796\u17c1\u1789"})]}),(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1791\u17bc\u179a\u179f\u17d0\u1796\u17d2\u1791\u179b\u17c1\u1781\u200b\u17d6"}),(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"+85581951133 | 011951133"})]})]})}),(0,B.jsxs)(l.ZP,{item:!0,xs:4,children:[(0,B.jsx)(P.Z,{variant:"square",src:"images/mongkol_serey_logo_1000.png",alt:"logo",imgProps:{sx:{objectFit:"contain"}},sx:{mx:"auto",width:200,height:"auto",my:2}}),(0,B.jsxs)(s.Z,{spacing:.5,children:[(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{fontWeight:"bold",whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u179b\u17c1\u1781\u179c\u17b7\u1780\u17d0\u1799\u1794\u178f\u17d2\u179a\u17d6"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:a.id&&function(e){var n="00000";return n.substring(0,n.length-e.length)+e}(null===(t=a.id)||void 0===t?void 0:t.toString())})]}),(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u200b\u17d6"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:null===(i=a.customer)||void 0===i?void 0:i.customer_name})]}),(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1791\u17bc\u179a\u179f\u17d0\u1796\u17d2\u1791\u179b\u17c1\u1781\u200b\u17d6"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:null===(r=a.customer)||void 0===r?void 0:r.contact_number})]}),(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u200b\u17d6"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:E()(a.date).format("DD.MM.YYYY")})]}),(0,B.jsxs)(s.Z,{direction:"row",spacing:1.5,children:[(0,B.jsx)(Z.Z,{whiteSpace:"nowrap",fontFamily:"Khmer Busra high",fontSize:18,children:"\u1791\u17b8\u178f\u17b6\u17c6\u1784\u200b\u17d6"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:a.location})]})]})]})]}),(0,B.jsxs)(Z.Z,{textAlign:"center",padding:2,fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:20,children:["\u179c\u17b7\u1780\u17d0\u1799\u1794\u178f\u17d2\u179a\u1780\u1780\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb ",F["".concat(a.type)]]}),(0,B.jsxs)(Z.Z,{textAlign:"justify",fontFamily:"Khmer Busra high",fontSize:18,lineHeight:2,children:["\u1780\u1789\u17d2\u1789\u17b6 ",(0,B.jsx)("b",{children:"\u179a\u178a\u17d2\u178b\u17b6 \u1798\u17c9\u17c1\u1784\u17a2\u17ca\u17b8"})," \u1797\u17c1\u1791 \u179f\u17d2\u179a\u17b8 \u1780\u17b6\u1793\u17cb\u17a2\u178f\u17d2\u178f\u179f\u1789\u17d2\u1789\u17b6\u178e\u1794\u17d0\u178e\u17d2\u178e\u179b\u17c1\u1781 \u17e0\u17e5\u17e1\u17e5\u17e6\u17e7\u17e4\u17e3\u17e9 \u1798\u17b6\u1793\u17a2\u17b6\u179f\u17d0\u1799\u178a\u17d2\u178b\u17b6\u1793\u179f\u17d2\u1790\u17b7\u178f\u1793\u17c5\u1795\u17d2\u1791\u17c7\u179b\u17c1\u1781\u17e8\u17e0 \u1795\u17d2\u179b\u17bc\u179c\u179b\u17c1\u1781\u17e0\u17e3 \u1794\u17bb\u179a\u17b8\u1796\u17b7\u1797\u1796\u1790\u17d2\u1798\u17b8\u1788\u17bc\u1780\u179c\u17c9\u17b6\u17e3 \u1787\u17b6\u17a2\u17d2\u1793\u1780\u178f\u17c6\u178e\u17b6\u1784\u1780\u17d2\u179a\u17bb\u1798\u17a0\u17ca\u17bb\u1793"," ",(0,B.jsx)("b",{children:"\u1798\u1784\u17d2\u1782\u179b\u179f\u17c1\u179a\u17b8\u178f\u17bb\u179a\u17c4\u1784&\u1798\u17d2\u17a0\u17bc\u1794\u1780\u17b6\u179a Mungkul Serey Catering Services"})," ","\u1794\u17b6\u1793\u1791\u1791\u17bd\u179b\u1780\u17b6\u179a\u1780\u1780\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb \u179f\u17c1\u179c\u17b6\u1780\u1798\u17d2\u1798\u1785\u17bb\u1784\u1797\u17c5 \u178f\u17bb\u1780\u17b6\u179a"," ",F["".concat(a.type)]," ",(0,B.jsxs)("b",{children:["\u1785\u17c6\u1793\u17bd\u1793 ",a.quantity,"\u178f\u17bb\u17d4"]})]}),(0,B.jsx)(Z.Z,{textAlign:"center",lineHeight:2,fontFamily:"Khmer Busra high",fontSize:18,fontWeight:"bold",children:"\u1796\u17b8"}),(0,B.jsxs)(Z.Z,{mb:4,textAlign:"justify",lineHeight:2,fontFamily:"Khmer Busra high",fontSize:18,children:["\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u1788\u17d2\u1798\u17c4\u17c7"," ",(0,B.jsx)("b",{children:null===a.customer?"No Cutomer":a.customer.customer_name})," ",null!==a.customer&&(0,B.jsxs)(B.Fragment,{children:["\u1798\u17b6\u1793\u1791\u17b8\u179b\u17c6\u1793\u17c5",a.customer.house?"\u1795\u17d2\u1791\u17c7\u179b\u17c1\u1781\u17d6".concat(a.customer.house):""," ",a.customer.street?"\u1795\u17d2\u179b\u17bc\u179c\u179b\u17c1\u1781\u17d6".concat(a.customer.street):""," ",a.customer.location," ",a.customer.commune," ",a.customer.district," ",a.customer.province," "]}),"\u1785\u17c6\u1793\u17bd\u1793\u1791\u17b9\u1780\u1794\u17d2\u179a\u17b6\u1780\u17cb $",Intl.NumberFormat().format(a.deposit)," ",a.amountInKhmer&&(0,B.jsxs)("b",{children:["(",a.amountInKhmer,")"]})," ","Cash"!==a.paidBy?"\u178f\u17b6\u1798\u179a\u1799\u17c8\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799\u1792\u1793\u17b6\u1782\u17b6\u179a"+a.paidBy:"\u178f\u17b6\u1798\u179a\u1799\u17c8\u1780\u17d2\u179a\u178a\u17b6\u179f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb"," ","\u1793\u17c5\u1790\u17d2\u1784\u17c3\u1791\u17b8 ",(0,B.jsx)("b",{children:d})," \u1781\u17c2 ",(0,B.jsx)("b",{children:C.F5[c]})," \u1786\u17d2\u1793\u17b6\u17c6"," ",(0,B.jsx)("b",{children:u}),"\u17d4"]}),(0,B.jsxs)(m.Z,{sx:{"& thead th, tbody td":{border:"1px solid black",borderCollapse:"collapse",py:1,fontWeight:T.Z.typography.fontWeightBold,fontFamily:"Khmer Busra high",color:"black",fontSize:18},"& thead th":{textAlign:"center"},"& .css-1b87so5-MuiTableCell-root":{color:"black"}},children:[(0,B.jsx)(I.Z,{children:(0,B.jsxs)(p.Z,{children:[(0,B.jsx)(g.Z,{width:"5%",children:"\u179b.\u179a"}),(0,B.jsx)(g.Z,{width:"65%",children:"\u179a\u17b6\u1799\u1788\u17d2\u1798\u17c4\u17c7\u1798\u17bb\u1781\u1798\u17d2\u17a0\u17bc\u1794"}),(0,B.jsx)(g.Z,{width:"15%",children:"\u1785\u17c6\u1793\u17bd\u1793"}),(0,B.jsx)(g.Z,{width:"15%",children:"\u178f\u1798\u17d2\u179b\u17c3\u179a\u17b6\u1799"})]})}),(0,B.jsx)(f.Z,{children:null===(o=a.eventPackages)||void 0===o?void 0:o.map((function(e){var n;return(0,B.jsxs)(p.Z,{children:[(0,B.jsx)(g.Z,{}),(0,B.jsxs)(g.Z,{children:[(0,B.jsx)(Z.Z,{textAlign:"center",fontFamily:"Khmer Busra high",fontSize:18,fontWeight:"bold",children:e.category}),(0,B.jsx)(Z.Z,{whiteSpace:"pre-line",fontFamily:"Khmer Busra high",fontSize:18,lineHeight:1.8,component:"div",children:(0,B.jsx)("ol",{style:{listStyleType:"khmer",fontFamily:"Khmer Busra high",fontSize:18},children:null===e||void 0===e||null===(n=e.packageItems)||void 0===n?void 0:n.map((function(e,n){return(0,B.jsx)("li",{children:e.title},n)}))})})]}),(0,B.jsx)(g.Z,{sx:{verticalAlign:"top",textAlign:"center"},children:(0,B.jsx)(Z.Z,{textAlign:"center",fontFamily:"Khmer Busra high",fontSize:18,fontWeight:"bold",children:0!==e.quantity?"".concat(e.quantity).concat(e.unit):""})}),(0,B.jsx)(g.Z,{sx:{verticalAlign:"top",textAlign:"center"},children:(0,B.jsxs)(Z.Z,{textAlign:"center",fontFamily:"Khmer Busra high",fontSize:18,fontWeight:"bold",children:[e.price>0&&e.quantity>0?Intl.NumberFormat().format(e.price/e.quantity):"",e.price>0&&"$/".concat(e.unit)]})})]},e.id)}))})]}),(0,B.jsxs)(s.Z,{spacing:.5,sx:{mt:4},children:[(0,B.jsx)(Z.Z,{fontSize:20,textAlign:"justify",fontWeight:"bold",fontFamily:"Khmer Busra high",mb:2,children:"\u1782\u17c4\u179b\u1780\u17b6\u179a\u178e\u17cd\u179a\u1794\u179f\u17cb\u1780\u17d2\u179a\u17bb\u1798\u17a0\u17ca\u17bb\u1793 \u1798\u1784\u17d2\u1782\u179b\u179f\u17c1\u179a\u17b8\u178f\u17bb\u179a\u17c4\u1784&\u1798\u17d2\u17a0\u17bc\u1794\u1780\u17b6\u179a Mungkul Serey Catering Service"}),(0,B.jsxs)("ol",{style:{listStyleType:"khmer",fontFamily:"Khmer Busra high",fontSize:18},children:[(0,B.jsx)("li",{style:{lineHeight:2,textAlign:"justify"},children:"\u179f\u1798\u17d2\u179a\u17b6\u1794\u17cb\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u178a\u17c2\u179b\u1794\u17b6\u1793\u1780\u1780\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u179a\u17bd\u1785\u1798\u17b7\u1793\u17a2\u17b6\u1785\u1791\u17b6\u1798\u1791\u17b6\u1794\u17d2\u179a\u17b6\u1780\u17cb\u1780\u1780\u17cb\u178f\u17d2\u179a\u179b\u1794\u17cb\u1791\u17c5\u179c\u17b7\u1789\u1791\u17c1\u1794\u17d2\u179a\u179f\u17b7\u1793\u1794\u17be\u1785\u1784\u17cb CANCEL"}),(0,B.jsx)("li",{style:{lineHeight:2,textAlign:"justify"},children:"\u1780\u17d2\u1793\u17bb\u1784\u1780\u179a\u178e\u17b8\u1797\u17d2\u1789\u17c0\u179c\u1785\u1784\u17cb CANCEL \u179f\u17bc\u1798\u1787\u17bc\u1793\u178a\u17c6\u178e\u17b9\u1784\u178a\u179b\u17cb\u1780\u17d2\u179a\u17bb\u1798\u17a0\u17ca\u17bb\u1793\u179a\u1799\u17c7\u1796\u17c1\u179b\u1798\u17bb\u1793\u1798\u17bd\u1799\u1781\u17c2\u1794\u17d2\u179a\u179f\u17b7\u1793\u1794\u17be\u1797\u17d2\u1789\u17c0\u179c CANCEL \u1798\u17bb\u1793\u179a\u1799\u17c7\u1796\u17c1\u179b\u1780\u17d2\u179a\u17c4\u1798\u1798\u17bd\u1799\u1781\u17c2 \u1797\u17d2\u1789\u17c0\u179c\u178f\u17d2\u179a\u17bc\u179c\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u179f\u1784\u1780\u17b6\u179a\u1780\u1798\u17d2\u1798\u1784\u17cb\u17a2\u17b8\u179c\u17c9\u17b6\u1793\u17cb\u178f\u17d2\u179a\u17c0\u1798\u179f\u1798\u17d2\u179a\u17b6\u1794\u17cb\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u1781\u17d2\u179b\u17bd\u1793\u1785\u17c6\u1793\u17bd\u1793 50% \u1793\u17c3\u178f\u1798\u17d2\u179b\u17c3\u1798\u17d2\u17a0\u17bc\u1794\u179f\u179a\u17bb\u1794 \u17d4"}),(0,B.jsx)("li",{style:{lineHeight:2,textAlign:"justify"},children:"\u1780\u179a\u178e\u17b8\u1798\u17b6\u1793\u17a2\u17c6\u1796\u17be\u17a0\u17b7\u1784\u17d2\u179f\u17b6\u17ac\u1782\u17d2\u179a\u17c4\u17c7\u17a0\u17b6\u1793\u17b7\u1797\u17d0\u1799\u178e\u17b6\u1798\u17bd\u1799\u1780\u17d2\u1793\u17bb\u1784\u1780\u17c6\u17a1\u17bb\u1784\u1796\u17c1\u179b\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u179a\u17b6\u179b\u17cb\u179f\u1798\u17d2\u1797\u17b6\u179a\u17c7\u178a\u17c2\u179b\u1794\u17b6\u1780\u17cb\u1794\u17c2\u1780 \u17ac \u1781\u17bc\u1785\u1781\u17b6\u178f \u17ac \u1797\u17d2\u1789\u17c0\u179c\u178f\u17d2\u179a\u17bc\u179c\u179f\u1784\u1791\u17c5\u178f\u17b6\u1798\u178f\u1798\u17d2\u179b\u17c3\u1787\u17b6\u1780\u17cb\u179f\u17d2\u178f\u17c2\u1784\u179a\u1794\u179f\u17cb\u1780\u17d2\u179a\u17bb\u1798\u17a0\u17ca\u17bb\u1793 \u17d4"}),(0,B.jsx)("li",{style:{lineHeight:2,textAlign:"justify"},children:"\u1785\u17bb\u1784\u1797\u17c5\u1798\u17b7\u1793\u1791\u1791\u17bd\u179b\u1781\u17bb\u179f\u178f\u17d2\u179a\u17bc\u179c\u179b\u17be\u1780\u17b6\u1780\u179f\u17c6\u178e\u179b\u17cb\u179f\u1798\u17d2\u179a\u17b6\u1798\u1794\u1793\u17d2\u1791\u17b6\u1794\u17cb\u1796\u17b8\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u179a\u17bd\u1785\u1791\u17c1\u1798\u17d2\u1785\u17b6\u179f\u17cb\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u178f\u17d2\u179a\u17bc\u179c\u1792\u17d2\u179c\u17be\u1780\u17b6\u179a\u179f\u17c6\u17a2\u17b6\u178f\u178a\u17c4\u1799\u1799\u1780 \u1791\u17c5\u1785\u17c4\u179b\u178a\u17c4\u1799\u1781\u17d2\u179b\u17bd\u1793\u17af\u1784\u1798\u17b7\u1793\u1790\u17b6\u1791\u17b8\u178f\u17b6\u17c6\u1784\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u1793\u17c5\u1780\u17d2\u1793\u17bb\u1784\u1795\u17d2\u1791\u17c7 \u17ac\u1793\u17c5\u1780\u17d2\u1793\u17bb\u1784\u1794\u17bb\u179a\u17b8 \u17ac\u1793\u17c5\u1780\u17d2\u1793\u17bb\u1784\u17a0\u17b6\u1784\u17d4"}),(0,B.jsxs)("li",{style:{lineHeight:2,textAlign:"justify"},children:["\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u178f\u17d2\u179a\u17bc\u179c\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u179f\u17c1\u179c\u17b6\u1780\u1798\u17d2\u1798\u1791\u17b6\u17c6\u1784\u17a2\u179f\u17cb\u1799\u17bc\u179a\u1794\u17c6\u1795\u17bb\u178f\u1796\u17d2\u179a\u17b9\u1780\u1798\u17c9\u17c4\u1784"," ",(0,B.jsx)("b",{children:"\u17e1\u17e1\u1790\u17d2\u1784\u17c3\u178f\u17d2\u179a\u1784\u17cb"})," ","\u1794\u1793\u17d2\u1791\u17b6\u1794\u17cb\u1796\u17b8\u1780\u1798\u17d2\u1798\u179c\u17b7\u1792\u17b8\u179a\u17bd\u1785\u1780\u17b6\u179b\u1796\u17b8\u1799\u1794\u17cb\u1780\u17d2\u1793\u17bb\u1784\u1780\u179a\u178e\u17b8\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u1799\u17ba\u178f\u178f\u17d2\u179a\u17bc\u179c\u1794\u1784\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u1796\u17b7\u1793\u17d0\u1799"," ",(0,B.jsx)("b",{children:"\u1799\u17ba\u178f\u17e1\u1790\u17d2\u1784\u17c3 \u17e1\u17e0\u17e0$"})," \u17ac ",(0,B.jsx)("b",{children:"\u17e3\u1790\u17d2\u1784\u17c3 \u17e5\u17e0\u17e0$"}),"\u17d4"]}),(0,B.jsxs)("li",{style:{lineHeight:2,textAlign:"justify"},children:["\u17a2\u178f\u17b7\u1790\u17b7\u1787\u1793\u200b\u17a2\u17b6\u1785\u1791\u17bc\u1791\u17b6\u178f\u17cb\u1794\u17d2\u179a\u17b6\u1780\u17cb\u178f\u17b6\u1798\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799\u1792\u1793\u17b6\u1782\u17b6\u179a\u178a\u17bc\u1785\u1781\u17b6\u1784\u1780\u17d2\u179a\u17c4\u1798 \u17d6",(0,B.jsxs)(l.ZP,{container:!0,columnSpacing:2,rowSpacing:1,sx:{px:4},children:[(0,B.jsx)(l.ZP,{item:!0,xs:6,children:(0,B.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799 ABA"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u17d6"})]})}),(0,B.jsx)(l.ZP,{item:!0,xs:!0,children:(0,B.jsxs)(s.Z,{direction:"row",spacing:2,children:[(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"999119199"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"(Ratha Mengey)"})]})}),(0,B.jsx)(l.ZP,{item:!0,xs:6,children:(0,B.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799 Acleda Toanchet"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u17d6"})]})}),(0,B.jsx)(l.ZP,{item:!0,xs:!0,children:(0,B.jsx)(s.Z,{direction:"row",spacing:2,children:(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"081951133"})})}),(0,B.jsx)(l.ZP,{item:!0,xs:6,children:(0,B.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u1782\u178e\u1793\u17c1\u1799\u17d2\u1799 Wing"}),(0,B.jsx)(Z.Z,{fontFamily:"Khmer Busra high",fontSize:18,children:"\u17d6"})]})}),(0,B.jsx)(l.ZP,{item:!0,xs:!0,children:(0,B.jsx)(s.Z,{direction:"row",spacing:2,children:(0,B.jsx)(Z.Z,{fontWeight:"bold",fontFamily:"Khmer Busra high",fontSize:18,children:"081951133"})})})]})]})]})]})]})})),k=R,K=t(62643),D=t(60826),M=t(85871),O=t(69780),W=t(45987),q=t(1413),H=t(93433),L=t(66172),N=t(23786),Q=t(12065),V=t(61134),U=t(39126),Y=t(36571),G=t(31207),$=t(50841),J=t(17139),X=t(69783),ee=t(86544),ne=t(16856),te=t(8694),ie=t(93025),re=t(84753),oe=t(71715),le=t(19218),ae=["onChange"],se=function(e){var n=e.menuItemsP,t=e.onRemoveOrder,o=e.index,l=(0,V.Gc)(),a=l.control,c=l.setValue,h=l.watch,x=h("listMenu.".concat(o,".unitPrice")),m=h("listMenu.".concat(o,".quantity")),f=h("listMenu.".concat(o,".price")),p=(0,r.useState)([]),g=(0,i.Z)(p,2),j=g[0],v=g[1],y=(0,r.useState)(null),b=(0,i.Z)(y,2),S=b[0],w=b[1],P=Boolean(S),I=function(){w(null)};(0,r.useEffect)((function(){if(n)return v(n)}),[]);return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(s.Z,{mb:2,mx:3,pb:3,sx:{background:T.Z.palette.background.paper,borderRadius:3},children:[(0,B.jsxs)(s.Z,{spacing:1,px:2,py:3,position:"relative",direction:{xs:"column",md:"row"},children:[(0,B.jsx)(u.Z,{color:"error",onClick:t,sx:{position:"absolute",top:4,right:8,fontSize:12,textTransform:"capitalize",p:0},children:"Remove"}),(0,B.jsx)(V.Qr,{control:a,name:"listMenu.".concat(o,".title"),defaultValue:"",rules:{required:{value:!0,message:"Title is Required"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(re.Z,{label:"",children:(0,B.jsx)(ie.Z,(0,q.Z)({size:"small",label:"Title",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message},n))})}}),(0,B.jsx)(V.Qr,{control:a,name:"listMenu.".concat(o,".quantity"),defaultValue:"",rules:{required:{value:!0,message:"Quantity is Required"},pattern:{value:te.V0.numberOnly,message:"Quantity should be number only"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(re.Z,{label:"",children:(0,B.jsx)(ie.Z,(0,q.Z)({size:"small",type:"number",label:"Quantity",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message,onKeyUp:function(){x&&m?isNaN(+x*m)?c("listMenu.".concat(o,".price"),""):c("listMenu.".concat(o,".price"),+(+x*m).toFixed(2)):c("listMenu.".concat(o,".price"),0)}},n))})}}),(0,B.jsx)(re.Z,{label:"",children:(0,B.jsxs)(s.Z,{direction:"row",sx:{position:"relative"},children:[(0,B.jsx)(V.Qr,{control:a,name:"listMenu.".concat(o,".unitPrice"),defaultValue:"",render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(ie.Z,(0,q.Z)({size:"small",type:"number",label:"Price",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message,onKeyUp:function(){x&&m?isNaN(+x*m)?c("listMenu.".concat(o,".price"),""):c("listMenu.".concat(o,".price"),+(+x*m).toFixed(2)):c("listMenu.".concat(o,".price"),"")}},n))}}),(0,B.jsxs)(u.Z,{onClick:function(e){w(e.currentTarget)},color:"inherit",sx:{background:"#fff",position:"absolute",right:2,top:2,bottom:2,borderRadius:2,color:"#000",width:"auto",minWidth:0,px:1,"&.css-1lskwbk-MuiButtonBase-root-MuiButton-root":{p:0}},children:["/",h("listMenu.".concat(o,".unit"))||"\u178f\u17bb"]}),(0,B.jsx)(oe.Z,{anchorEl:S,open:P,onClose:I,children:C.d9.map((function(e){return(0,B.jsx)(N.Z,{onClick:function(){c("listMenu.".concat(o,".unit"),e),I()},children:e},e)}))})]})}),(0,B.jsx)(V.Qr,{control:a,name:"listMenu.".concat(o,".price"),defaultValue:"",rules:{required:{value:!0,message:"Total Price is Required"},pattern:{value:te.V0.numberOnly,message:"Price should be number only"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(re.Z,{label:"",children:(0,B.jsx)(ie.Z,(0,q.Z)({size:"small",type:"number",label:"Total Price",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message,onKeyUp:function(){f&&m?isNaN(+f/m)?c("listMenu.".concat(o,".unitPrice"),""):c("listMenu.".concat(o,".unitPrice"),+(+f/m).toFixed(2)):c("listMenu.".concat(o,".unitPrice"),"")}},n))})}})]}),j&&j.length>0&&(null===j||void 0===j?void 0:j.map((function(e,n){return(0,B.jsxs)(s.Z,{direction:"row",alignItems:"flex-start",spacing:1,px:2,mb:3,children:[(0,B.jsxs)(Z.Z,{width:20,ml:1,children:[n+1,"."]}),(0,B.jsx)(V.Qr,{control:a,name:"listMenu.".concat(o,".menuItem.").concat(n,".title"),defaultValue:"",rules:{required:{value:!0,message:"Item is Required"}},render:function(e){var t=e.field,i=(t.onChange,(0,W.Z)(t,ae)),r=e.fieldState.error;return(0,B.jsx)(L.Z,(0,q.Z)((0,q.Z)({freeSolo:!0,disableClearable:!0,openOnFocus:!0,id:"foodList",size:"small",sx:{width:"100%"},onInputChange:function(e,t){c("listMenu.".concat(o,".menuItem.").concat(n,".title"),t)}},i),{},{renderInput:function(e){return(0,B.jsx)(le.Z,(0,q.Z)({variant:"standard",sx:{flexGrow:1,outline:"none",p:0},error:Boolean(r),helperText:null===r||void 0===r?void 0:r.message},e))},options:C.Xk.map((function(e){return e}))}))}}),(0,B.jsx)(d.Z,{color:"error",onClick:function(){return function(e){var n=h("listMenu.".concat(o,".menuItem"));n.splice(e,1),v((0,H.Z)(n)),c("listMenu.".concat(o,".menuItem"),(0,H.Z)(n))}(n)},sx:{p:0},children:(0,B.jsx)(J.Z,{})})]},n)}))),(0,B.jsx)(u.Z,{variant:"outlined",onClick:function(){v([].concat((0,H.Z)(j),[{id:void 0,title:""}]))},sx:{py:1,mr:2,ml:3,borderStyle:"dashed",background:(0,Q.Fq)(T.Z.palette.primary.light,.1),borderRadius:2},children:"Add More"})]})})},ce=t(73146),de=t(74165),ue=t(15861),he=t(38233),xe=t(42877),me={getOrdersList:function(){var e=(0,ue.Z)((0,de.Z)().mark((function e(n){var t,i,r,o;return(0,de.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.page,i=n.status,r=n.search,e.next=3,he.Z.get(xe.J.ordersList,{params:{page:t,status:i,search:r}});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),orderAction:function(){var e=(0,ue.Z)((0,de.Z)().mark((function e(n,t){var i;return(0,de.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.Z.post(xe.J.orderAction,n,{params:{customerId:t}});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),deleteOrder:function(){var e=(0,ue.Z)((0,de.Z)().mark((function e(n){var t;return(0,de.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.Z.delete(xe.J.deleteOrder.replace(":id",n.orderId));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},fe=me,pe=function(e){var n=e.index,t=e.onRemoveFinalInvoice,i=(0,V.Gc)(),r=i.control,o=i.formState.errors.finalInvoice;return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(s.Z,{spacing:1,pt:2,position:"relative",direction:"row",alignItems:o?"center":"flex-end",children:[(0,B.jsx)(V.Qr,{control:r,name:"finalInvoice.".concat(n,".fTitle"),defaultValue:"",rules:{required:{value:!0,message:"Title is Required"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(ie.Z,(0,q.Z)({size:"small",placeholder:"Title",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message},n))}}),(0,B.jsx)(V.Qr,{control:r,name:"finalInvoice.".concat(n,".fQty"),defaultValue:"",rules:{required:{value:!0,message:"Quantity is Required"},pattern:{value:te.V0.numberOnly,message:"Quantity should be number only"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(ie.Z,(0,q.Z)({type:"number",size:"small",placeholder:"Quantity",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message},n))}}),(0,B.jsx)(V.Qr,{control:r,name:"finalInvoice.".concat(n,".fUnit"),defaultValue:"",rules:{required:{value:!0,message:"Unit is Required"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(ie.Z,(0,q.Z)({size:"small",placeholder:"Unit",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message},n))}}),(0,B.jsx)(V.Qr,{control:r,name:"finalInvoice.".concat(n,".fPrice"),defaultValue:"",rules:{required:{value:!0,message:"Price is Required"},pattern:{value:te.V0.numberOnly,message:"Price should be number only"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(ie.Z,(0,q.Z)({size:"small",type:"number",placeholder:"Price",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message},n))}}),(0,B.jsx)(S.Z,{sx:{background:T.Z.palette.error.main,borderRadius:2},children:(0,B.jsx)(d.Z,{onClick:t,sx:{color:T.Z.palette.common.white},children:(0,B.jsx)(J.Z,{})})})]})})},ge=t(92630),Ze=t(96349),je=t(65172),ve=t(5247),ye=t(59860),be=t(46379),Se=t(71856),we=t(31029),Te=t(64884),Pe=t(58617),Ie=["onChange"],Ae=["onChange"],Ee=function(e){var n=e.children,t=e.marginTop;return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(Z.Z,{textAlign:"center",fontWeight:"medium",variant:"h5",sx:{mb:3,mt:t||0,mx:3,p:1.5,borderRadius:2,backgroundColor:T.Z.palette.background.paper,boxShadow:T.Z.shadows[1]},children:n})})},Ce=function(e){var n,t,o,l,a=e.handleCloseOrderDialog,h=e.orderDetail,x=e.onActionSuccess,m=e.draft,f=e.onSaveDraft,p=(0,Te.Z)(fe.orderAction,{manual:!0,onSuccess:function(){null!==h&&void 0!==h&&h.expenses&&h.expenses.length>0?g.run(h.id||0,h.expenses):x()},onError:function(){return O(!0)}}),g=(0,Te.Z)(Ze.Z.addExpense,{manual:!0,onSuccess:function(){return x()},onError:function(){return O(!0)}}),j=(0,Te.Z)((function(){return ge.Z.getCustomerList({size:1e3})})),v=(0,Te.Z)(fe.deleteOrder,{manual:!0,onSuccess:function(){de(!1),x()},onError:function(){return O(!0)}}),y=(0,V.cI)(),b=y.setValue,S=y.handleSubmit,w=y.getValues,P=(0,r.useState)([]),I=(0,i.Z)(P,2),A=I[0],F=I[1],_=(0,r.useState)([]),z=(0,i.Z)(_,2),R=z[0],k=z[1],K=(0,r.useState)(!1),D=(0,i.Z)(K,2),M=D[0],O=D[1],oe=(0,r.useState)(!1),le=(0,i.Z)(oe,2),ae=le[0],de=le[1],ue=(0,r.useState)(),he=(0,i.Z)(ue,2),xe=he[0],me=he[1],Ce=0,Be=(0,r.useRef)((null===h||void 0===h?void 0:h.customer)||(null===m||void 0===m?void 0:m.customer));(0,r.useEffect)((function(){if(h){var e,n=h.eventPackages.map((function(e){var n;return{id:null===e||void 0===e?void 0:e.id,title:e.category||"",price:+e.price||0,unit:e.unit||"\u178f\u17bb",unitPrice:+(+e.price/e.quantity).toFixed(2)||0,quantity:e.quantity||0,menuItem:null===(n=e.packageItems)||void 0===n?void 0:n.map((function(e){return{id:null===e||void 0===e?void 0:e.id,title:e.title||""}}))}})),t=null===h||void 0===h||null===(e=h.finalInvoices)||void 0===e?void 0:e.map((function(e){return{id:null===e||void 0===e?void 0:e.id,fPrice:e.price||"",fQty:e.quantity||"",fTitle:e.category||"",fUnit:e.unit||""}}));return b("orderId",null===h||void 0===h?void 0:h.id),b("eventLocation",h.location||""),b("paidBy",h.paidBy||""),b("bookingDate",new Date(h.bookingDate)||null),b("eventDate",new Date(h.date)||null),b("deposit",h.deposit||""),b("depositText",h.amountInKhmer||""),b("eventType",h.type||""),b("quantity",h.quantity||""),b("listMenu",n),b("finalInvoice",t),me(null===h||void 0===h?void 0:h.customer),k(n),void F(t)}if(!h&&m)return b("eventLocation",m.eventLocation),b("bookingDate",m.bookingDate),b("eventDate",m.eventDate),b("paidBy",m.paidBy),b("deposit",m.deposit),b("depositText",m.depositText),b("eventType",m.eventType),b("quantity",m.quantity),b("listMenu",m.listMenu),me(null===m||void 0===m?void 0:m.customer),void k(m.listMenu);Fe(),_e()}),[]),(0,r.useEffect)((function(){xe&&b("eventLocation",xe.location)}),[null===xe||void 0===xe?void 0:xe.id]);var Fe=function(){k([].concat((0,H.Z)(R),[{id:void 0,title:"",price:"",quantity:"",unitPrice:"",unit:"",menuItem:[{id:void 0,title:""}]}]))},_e=function(){F([].concat((0,H.Z)(A),[{id:void 0,fTitle:"",fQty:"",fPrice:"",fUnit:""}]))};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(ve.Z,{open:M,errorTitle:"Internal Server Error",errorMessage:(null===(n=p.error)||void 0===n?void 0:n.message)||(null===(t=v.error)||void 0===t?void 0:t.message)||(null===(o=g.error)||void 0===o?void 0:o.message)||"Oops! There seem to be something wrong with your server.",onCloseDialog:function(){return O(!1)}}),(0,B.jsxs)(s.Z,{p:3,minHeight:90,direction:"row",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,sx:{backgroundColor:"#fff",zIndex:T.Z.zIndex.drawer},children:[(0,B.jsx)(Z.Z,{variant:"h4",color:"secondary.main",fontWeight:"bold",children:h?"Update Order":"New Order"}),(0,B.jsxs)(s.Z,{direction:"row",alignItems:"center",spacing:4,children:[m&&(0,B.jsx)(c.Z,{title:"Clear Draft",children:(0,B.jsx)(ee.Q,{color:"error",onClick:function(){(0,be.zr)("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://13.250.115.72:20033",REACT_APP_PERSIST_KEY:"MONGKOL_SEREY_KEY",REACT_APP_PERSIST_AUTH:"MONGKOL_SEREY_AUTH",REACT_APP_PERSIST_VER:"1",REACT_APP_TELEGRAM_BOT:"5683327648:AAFnoONaWEHHO7zGPWn7HBzruWb1Nd1mvMs",REACT_APP_CHAT_ID:"-893161326"}.REACT_APP_PERSIST_DRAFT)),f(),y.reset(),me(void 0)},children:(0,B.jsx)(Pe.GJl,{})})}),(0,B.jsx)(ee.Q,{color:"error",onClick:a,children:(0,B.jsx)(ne.FU5,{})})]})]}),(0,B.jsx)(V.RV,(0,q.Z)((0,q.Z)({},y),{},{children:(0,B.jsxs)("form",{onSubmit:S((function(e){var n,t;p.run({id:e.orderId||void 0,amountInKhmer:e.depositText,bookingDate:E()(e.bookingDate).format("yyyy-MM-DD"),date:E()(e.eventDate).format("yyyy-MM-DD"),deposit:+e.deposit,location:e.eventLocation,quantity:+e.quantity,type:e.eventType,paidBy:e.paidBy,eventPackages:null===(n=e.listMenu)||void 0===n?void 0:n.map((function(e){var n;return{id:e.id,category:e.title,price:+e.price,quantity:+e.quantity,unit:void 0===e.unit||""===e.unit?"\u178f\u17bb":e.unit,packageItems:(null===(n=e.menuItem)||void 0===n?void 0:n.map((function(e){return{id:e.id,title:e.title}})))||[]}})),finalInvoices:h?null===(t=e.finalInvoice)||void 0===t?void 0:t.map((function(e){return{id:e.id,category:e.fTitle,price:+e.fPrice,quantity:+e.fQty,unit:e.fUnit}})):[]},null===xe||void 0===xe?void 0:xe.id)})),children:[(0,B.jsx)(Ee,{children:"Order Info"}),(0,B.jsxs)(s.Z,{px:3,spacing:4,children:[(0,B.jsx)(s.Z,{spacing:4,direction:"row",children:(0,B.jsx)(re.Z,{label:"Customer",children:(0,B.jsx)(L.Z,{disableClearable:!0,openOnFocus:!0,loading:j.loading,defaultValue:Be.current,onChange:function(e,n){me(n)},renderInput:function(e){return(0,B.jsx)(ie.Z,(0,q.Z)({placeholder:"Select Customer"},e))},getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.customer_name)||""},renderOption:function(e,n){return n&&(0,r.createElement)(N.Z,(0,q.Z)((0,q.Z)({},e),{},{key:n.id}),"".concat(null===n||void 0===n?void 0:n.id,". ").concat(null===n||void 0===n?void 0:n.customer_name))},options:(null===(l=j.data)||void 0===l?void 0:l.data)||[]})})}),(0,B.jsxs)(s.Z,{spacing:4,direction:"row",children:[(0,B.jsx)(V.Qr,{control:y.control,name:"eventType",defaultValue:"",rules:{required:{value:!0,message:"Event type is Required"}},render:function(e){var n=e.field,t=(n.onChange,(0,W.Z)(n,Ie)),i=e.fieldState.error;return(0,B.jsx)(re.Z,{label:"Event Type",children:(0,B.jsx)(L.Z,(0,q.Z)((0,q.Z)({freeSolo:!0,disableClearable:!0,openOnFocus:!0,id:"eventType"},t),{},{onInputChange:function(e,n){b("eventType",n)},renderInput:function(e){return(0,B.jsx)(ie.Z,(0,q.Z)({placeholder:"Enter Event Type",error:Boolean(i),helperText:null===i||void 0===i?void 0:i.message},e))},options:C.oQ}))})}}),(0,B.jsx)(V.Qr,{control:y.control,name:"quantity",defaultValue:"",rules:{required:{value:!0,message:"Quantity is required"},pattern:{value:te.V0.numberOnly,message:"Quantity is number only"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(re.Z,{label:"Quantity",children:(0,B.jsx)(ie.Z,(0,q.Z)({placeholder:"Quantity",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message},n))})}})]}),(0,B.jsxs)(s.Z,{spacing:4,direction:"row",children:[(0,B.jsx)(V.Qr,{control:y.control,name:"eventDate",defaultValue:null,rules:{required:{value:!0,message:"Event date is Required"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(re.Z,{label:"Event Date",children:(0,B.jsx)(Y._,{dateAdapter:X.Z,children:(0,B.jsx)(G.M,(0,q.Z)((0,q.Z)({inputFormat:"DD-MM-YYYY"},n),{},{InputAdornmentProps:{sx:{"& .MuiIconButton-root":{color:T.Z.palette.primary.main}}},renderInput:function(e){return(0,B.jsx)(ie.Z,(0,q.Z)({placeholder:"Enter Event Date",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message,sx:{"& fieldset":{border:t?"solid 0.5px ".concat(T.Z.palette.error.main):{}}},FormHelperTextProps:{sx:{color:T.Z.palette.error.main}}},e))}}))})})}}),(0,B.jsx)(V.Qr,{control:y.control,name:"bookingDate",defaultValue:new Date,rules:{required:{value:!0,message:"Booking date is Required"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(re.Z,{label:"Booking Date",children:(0,B.jsx)(Y._,{dateAdapter:X.Z,children:(0,B.jsx)(G.M,(0,q.Z)((0,q.Z)({inputFormat:"DD-MM-YYYY"},n),{},{InputAdornmentProps:{sx:{"& .MuiIconButton-root":{color:T.Z.palette.primary.main}}},renderInput:function(e){return(0,B.jsx)(ie.Z,(0,q.Z)({placeholder:"Enter Booking Date",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message,sx:{"& fieldset":{border:t?"solid 0.5px ".concat(T.Z.palette.error.main):{}}},FormHelperTextProps:{sx:{color:T.Z.palette.error.main}}},e))}}))})})}})]}),(0,B.jsxs)(s.Z,{spacing:4,direction:"row",children:[(0,B.jsx)(V.Qr,{control:y.control,name:"deposit",defaultValue:"",rules:{required:{value:!0,message:"Deposit is Required"},pattern:{value:te.V0.numberOnly,message:"Deposit amount should be number only"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(re.Z,{label:"Deposit",children:(0,B.jsx)(ie.Z,(0,q.Z)({type:"number",placeholder:"Enter Deposit",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message},n))})}}),(0,B.jsx)(V.Qr,{control:y.control,name:"depositText",defaultValue:"\u178a\u17bb\u179b\u17d2\u179b\u17b6\u179a\u17a2\u17b6\u1798\u17c1\u179a\u17b7\u1780",render:function(e){var n=e.field;return(0,B.jsx)(re.Z,{label:"Amount in Khmer",children:(0,B.jsx)(ie.Z,(0,q.Z)({placeholder:"Enter Amount in Khmer"},n))})}})]}),(0,B.jsxs)(s.Z,{spacing:4,direction:"row",children:[(0,B.jsx)(V.Qr,{control:y.control,name:"eventLocation",defaultValue:"",rules:{required:{value:!0,message:"Event location is Required"}},render:function(e){var n=e.field,t=e.fieldState.error;return(0,B.jsx)(re.Z,{label:"Event Location",children:(0,B.jsx)(ie.Z,(0,q.Z)({placeholder:"Enter Event Location",error:Boolean(t),helperText:null===t||void 0===t?void 0:t.message},n))})}}),(0,B.jsx)(V.Qr,{control:y.control,name:"paidBy",defaultValue:"",rules:{required:{value:!0,message:"Paid by is Required"}},render:function(e){var n=e.field,t=(n.onChange,(0,W.Z)(n,Ae)),i=e.fieldState.error;return(0,B.jsx)(re.Z,{label:"Paid By",children:(0,B.jsx)(L.Z,(0,q.Z)((0,q.Z)({freeSolo:!0,disableClearable:!0,openOnFocus:!0,id:"paidby"},t),{},{onInputChange:function(e,n){b("paidBy",n)},renderInput:function(e){return(0,B.jsx)(ie.Z,(0,q.Z)({placeholder:"Enter paid by",error:Boolean(i),helperText:null===i||void 0===i?void 0:i.message},e))},options:C.u7.map((function(e){return e}))}))})}})]})]}),(0,B.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mx:3,mt:4,mb:1,position:"sticky",top:90,bgcolor:"common.white",zIndex:T.Z.zIndex.appBar-1},children:[(0,B.jsx)(Z.Z,{fontWeight:"medium",children:"List Orders"}),(0,B.jsx)(u.Z,{color:"info",startIcon:(0,B.jsx)(U.L3d,{}),onClick:Fe,sx:{textTransform:"capitalize"},children:"Add More"})]}),(0,B.jsx)(Se.M,{children:R&&R.length>0?null===R||void 0===R?void 0:R.map((function(e,n){return(0,B.jsx)(we.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:"easeInOut"},children:(0,B.jsx)(se,{index:n,menuItemsP:e.menuItem,onRemoveOrder:function(){return function(e){var n=y.watch("listMenu");n.splice(e,1),k((0,H.Z)(n)),b("listMenu",(0,H.Z)(n))}(n)}})},Ce++)})):(0,B.jsxs)(s.Z,{alignItems:"center",spacing:2,sx:{mx:3,p:2,borderRadius:2,bgcolor:(0,Q.Fq)(T.Z.palette.error.light,.1)},children:[(0,B.jsx)($.Z,{size:"48",color:T.Z.palette.error.main}),(0,B.jsx)(Z.Z,{color:"error",width:"100%",textAlign:"center",mb:3,children:"No Order Item..."})]})}),h&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Ee,{marginTop:8,children:"Final Invoice"}),A&&A.length>0&&(0,B.jsxs)(s.Z,{width:"100%",spacing:1,pt:2,px:3,position:"relative",direction:"row",alignItems:"center",children:[(0,B.jsx)(Z.Z,{sx:{flex:1},children:"Title"}),(0,B.jsx)(Z.Z,{sx:{flex:1},children:"Quanity"}),(0,B.jsx)(Z.Z,{sx:{flex:1},children:"Unit"}),(0,B.jsx)(Z.Z,{sx:{flex:1},children:"Total Price"}),(0,B.jsx)("div",{style:{width:40}})]}),(0,B.jsxs)(s.Z,{px:3,children:[A&&A.length>0?A.map((function(e,n){return(0,B.jsx)(pe,{index:n,onRemoveFinalInvoice:function(){return function(e){var n=y.watch("finalInvoice");n.splice(e,1),F((0,H.Z)(n)),b("finalInvoice",(0,H.Z)(n))}(n)}},n)})):(0,B.jsxs)(s.Z,{alignItems:"center",spacing:2,sx:{py:1.5,borderRadius:2,bgcolor:(0,Q.Fq)(T.Z.palette.error.light,.1)},children:[(0,B.jsx)($.Z,{size:"48",color:T.Z.palette.error.main}),(0,B.jsx)(Z.Z,{color:"error",width:"100%",textAlign:"center",mt:1,children:"Final Invoice is Empty..."}),(0,B.jsxs)(s.Z,{direction:"row",children:[(0,B.jsx)(u.Z,{variant:"text",color:"info",onClick:_e,sx:{mx:2,mt:1},children:"Add More"}),(0,B.jsx)(u.Z,{variant:"text",color:"success",onClick:function(){var e=y.watch("listMenu").map((function(e){return{id:void 0,fPrice:e.price,fQty:e.quantity,fTitle:e.title,fUnit:e.unit}}));F(e),b("finalInvoice",e)},sx:{mx:2,mt:1},children:"Generate"})]})]}),A&&A.length>0&&(0,B.jsx)(u.Z,{variant:"outlined",onClick:_e,sx:{mt:2,py:1,borderStyle:"dashed",background:(0,Q.Fq)(T.Z.palette.primary.light,.2)},children:"Add More"})]})]}),(0,B.jsxs)(s.Z,{height:50,px:3,mt:10,mb:3,spacing:2,position:"relative",direction:"row",children:[!h&&(0,B.jsx)(u.Z,{onClick:function(){var e={bookingDate:w("bookingDate"),deposit:w("deposit"),depositText:w("depositText"),eventDate:w("eventDate"),eventLocation:w("eventLocation"),eventType:w("eventType"),paidBy:w("paidBy"),quantity:w("quantity"),listMenu:w("listMenu")||[],customer:xe};(0,be.xi)({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://13.250.115.72:20033",REACT_APP_PERSIST_KEY:"MONGKOL_SEREY_KEY",REACT_APP_PERSIST_AUTH:"MONGKOL_SEREY_AUTH",REACT_APP_PERSIST_VER:"1",REACT_APP_TELEGRAM_BOT:"5683327648:AAFnoONaWEHHO7zGPWn7HBzruWb1Nd1mvMs",REACT_APP_CHAT_ID:"-893161326"}.REACT_APP_PERSIST_DRAFT||"",e),f(e),a()},variant:"contained",fullWidth:!0,disableElevation:!0,color:"info",sx:{fontSize:18,fontWeight:"medium",p:1.5,borderRadius:2,boxShadow:1,background:function(e){return e.palette.info.main},color:"#fff",textTransform:"capitalize"},children:"Save Draft"}),(0,B.jsx)(ye.Z,{type:"submit",variant:"contained",fullWidth:!0,disableElevation:!0,loading:p.loading||g.loading,sx:{fontSize:18,fontWeight:"medium",p:1.5,borderRadius:2,boxShadow:1,background:ce.Z.goldGradientMain,textTransform:"capitalize",color:"#fff"},children:h?"Update":"Upload"}),h&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(d.Z,{color:"inherit",onClick:function(){return de(!0)},sx:{aspectRatio:"1/1",width:"50px",height:"100%",color:"#fff",background:function(e){return e.palette.error.main},"&:hover":{background:function(e){return e.palette.error.light}}},children:(0,B.jsx)(J.Z,{})}),(0,B.jsx)(je.Z,{open:ae,title:"Are you sure you want to delete this order?",confirm:function(){var e;return v.run({orderId:(null===h||void 0===h||null===(e=h.id)||void 0===e?void 0:e.toString())||"0"})},cancel:function(){return de(!1)},loading:v.loading})]})]})]})}))]})},Be=t(76509),Fe=t(13141),_e=t(73150),ze=t(58536),Re=t(80175),ke=t(51378),Ke=t(39421),De=t(61146),Me=t.n(De),Oe=t(11087),We=t(52764),qe=function(){var e,n,t,P,I=(0,O.Z)(),A=I.isMdDown,E=I.isSmDown,C=(0,Oe.lr)(),F=(0,i.Z)(C,2),_=F[0],R=F[1],W=_.get("id"),q=(0,r.useRef)(null),H=(0,r.useRef)(null),L=(0,We.Z)().navigate,N=(0,r.useState)("pending"),Q=(0,i.Z)(N,2),V=Q[0],U=Q[1],Y=(0,r.useState)(),G=(0,i.Z)(Y,2),J=G[0],X=G[1],ee=(0,r.useState)(!1),ne=(0,i.Z)(ee,2),te=ne[0],ie=ne[1],re=(0,r.useState)(!1),oe=(0,i.Z)(re,2),le=oe[0],ae=oe[1],se=(0,r.useState)(),ce=(0,i.Z)(se,2),de=ce[0],ue=ce[1],he=r.useState(1),me=(0,i.Z)(he,2),pe=me[0],ge=me[1],Ze=(0,r.useState)(""),je=(0,i.Z)(Ze,2),ve=je[0],ye=je[1],Pe=(0,r.useState)((0,be.wU)("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://13.250.115.72:20033",REACT_APP_PERSIST_KEY:"MONGKOL_SEREY_KEY",REACT_APP_PERSIST_AUTH:"MONGKOL_SEREY_AUTH",REACT_APP_PERSIST_VER:"1",REACT_APP_TELEGRAM_BOT:"5683327648:AAFnoONaWEHHO7zGPWn7HBzruWb1Nd1mvMs",REACT_APP_CHAT_ID:"-893161326"}.REACT_APP_PERSIST_DRAFT))),Ie=(0,i.Z)(Pe,2),Ae=Ie[0],Ee=Ie[1],De=(0,Te.Z)(fe.getOrdersList,{manual:!0,onSuccess:function(){return ae(!1)},onError:function(){return ae(!1)}}),qe=De.data,Le=De.run,Ne=De.runAsync,Qe=De.loading,Ve=De.refresh,Ue=(0,Te.Z)(Ne,{manual:!0,debounceWait:500,onSuccess:function(e){if(W){var n=e.data.find((function(e){return e.id===+W}));ue(n)}}}).run;(0,r.useEffect)((function(){""===ve?(ae(!0),Le({page:"".concat(pe-1),status:V,search:""})):Ue({page:"".concat(pe-1),status:V,search:ve})}),[V,pe,ve]),(0,r.useEffect)((function(){W&&(U("all"),ye("#".concat(W)))}),[]);var Ye=function(){ie(!1),X(void 0)},Ge=function(){ue(void 0),_.delete("id"),R(_)},$e=(0,r.useCallback)((function(e){return ue(qe.data[e])}),[qe]),Je=(0,r.useCallback)((function(e){return X(qe.data[e])}),[qe]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(M.Z,{pageTitle:"Orders"}),(0,B.jsxs)(o.Z,{elevation:1,sx:{position:"relative",mx:2,borderRadius:3,height:"calc(100vh - 100px)",maxWidth:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,B.jsxs)(l.ZP,{container:!0,p:2,rowSpacing:2,children:[(0,B.jsx)(l.ZP,{item:!0,xs:12,sm:12,md:4,children:(0,B.jsxs)(a.Z,{value:V,exclusive:!0,fullWidth:!0,size:"small",onChange:function(e,n){null!==n&&(U(n),ge(1))},children:[(0,B.jsx)(D.Z,{value:"pending",children:"Pending"}),(0,B.jsx)(D.Z,{value:"complete",children:"Completed"}),(0,B.jsx)(D.Z,{value:"all",children:"All"})]})}),(0,B.jsx)(l.ZP,{item:!0,xs:12,sm:12,md:8,children:(0,B.jsxs)(l.ZP,{container:!0,columnSpacing:2,alignItems:"center",children:[(0,B.jsx)(l.ZP,{item:!0,xs:4,sm:6,md:8,lg:8,xl:10,children:(0,B.jsx)(s.Z,{direction:"row",spacing:2,justifyContent:A?"flex-start":"flex-end",alignItems:"center",children:E?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(c.Z,{title:"Quotation",children:(0,B.jsx)(d.Z,{sx:{color:function(e){return e.palette.common.white},background:function(e){return e.palette.secondary.main},height:"100%"},onClick:function(){return L(xe.u.quotation)},children:(0,B.jsx)(Fe.Z,{variant:"Bold",size:"16"})})}),(0,B.jsx)(c.Z,{title:"Order",children:(0,B.jsx)(d.Z,{onClick:function(){return ie(!0)},sx:{color:function(e){return e.palette.common.white},background:function(e){return e.palette.primary.main},height:"100%"},children:(0,B.jsx)(_e.Z,{variant:"Bold",size:16})})})]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(u.Z,{variant:"contained",sx:{color:T.Z.palette.common.white,boxShadow:T.Z.shadows[1],borderRadius:2,textTransform:"none",height:40,position:"relative",overflow:"hidden",zIndex:2},color:"secondary",startIcon:(0,B.jsx)(Fe.Z,{variant:"Bold",size:"16"}),onClick:function(){return L(xe.u.quotation)},children:"Quotation"}),(0,B.jsx)(u.Z,{variant:"contained",sx:{color:T.Z.palette.common.white,boxShadow:T.Z.shadows[1],borderRadius:2,textTransform:"none",height:40,position:"relative",overflow:"hidden",zIndex:2},startIcon:(0,B.jsx)(_e.Z,{variant:"Bold",size:16}),onClick:function(){return ie(!0)},children:"Order"})]})})}),(0,B.jsx)(l.ZP,{item:!0,xs:8,sm:6,md:4,lg:4,xl:2,children:(0,B.jsx)(K.Z,{placeholder:"Search...",size:"small",value:ve,onChange:function(e){ye(e.currentTarget.value),ge(1)},onKeyUp:function(e){"Enter"===e.key&&Ue({page:"".concat(pe-1),status:V,search:ve})},InputProps:{endAdornment:(0,B.jsx)(h.Z,{position:"end",children:(0,B.jsx)(ze.Z,{size:"20",color:T.Z.palette.primary.main})})},sx:{float:"right"}})})]})})]}),(0,B.jsx)(x.Z,{className:"hide-scrollbar",sx:{flexGrow:1,overflow:"auto"},children:Qe&&le&&!qe?(0,B.jsx)(s.Z,{direction:"column",alignItems:"center",justifyContent:"center",sx:{height:"100%"},children:(0,B.jsx)(Ke.W,{})}):qe&&qe.data.length>0?(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(m.Z,{sx:{minWidth:1e3},children:[(0,B.jsx)(Be.f,{}),(0,B.jsxs)(f.Z,{children:[(0,B.jsx)(Se.M,{exitBeforeEnter:!0,children:Qe&&(0,B.jsx)(p.Z,{component:we.E.tr,layout:!0,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1,transition:{delay:.3,ease:"easeInOut"}},exit:{scale:0,opacity:0,transition:{delay:0,ease:"easeInOut"}},children:(0,B.jsx)(g.Z,{colSpan:8,sx:{textAlign:"center"},children:(0,B.jsx)(Ke.W,{})})})}),(0,B.jsx)(Be.Z,{data:Qe?[]:qe.data,onPrintClick:$e,onEditClick:Je,isExpense:!1})]})]})}):(0,B.jsxs)(s.Z,{direction:"column",alignItems:"center",justifyContent:"center",spacing:1,sx:{height:"100%"},children:[(0,B.jsx)($.Z,{size:"80",color:T.Z.palette.error.main}),(0,B.jsx)(Z.Z,{variant:"h6",color:"error",children:"No Order Data"})]})}),(0,B.jsx)(s.Z,{alignItems:"center",width:"100%",p:1.5,sx:{bgcolor:"background.paper"},children:(0,B.jsx)(j.Z,{count:null===qe||void 0===qe?void 0:qe.totalPage,page:pe,onChange:function(e,n){ge(n)},color:"primary",variant:"outlined",sx:{"& .MuiPaginationItem-root":{borderWidth:0}}})})]}),(0,B.jsx)(v.ZP,{open:te||void 0!==J,anchor:"right",PaperProps:{sx:{borderRadius:0,width:{xs:"100vw",md:"50vw"}}},children:(0,B.jsx)(Ce,{handleCloseOrderDialog:Ye,orderDetail:J,draft:Ae,onActionSuccess:function(){Ve(),Ye()},onSaveDraft:function(e){Ee(e)}})}),(0,B.jsxs)(y.Z,{open:void 0!==de,onClose:Ge,fullScreen:!0,PaperProps:{sx:{borderRadius:[3,0,3],width:"auto",height:["auto","100vh","95vh"]}},children:[!E&&(0,B.jsx)(b.Z,{sx:{position:"sticky",top:0,boxShadow:function(e){return e.shadows[2]},zIndex:function(e){return e.zIndex.drawer+3},backgroundColor:"#fff"},children:(0,B.jsxs)(s.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,B.jsx)(u.Z,{variant:"text",startIcon:(0,B.jsx)(Re.Z,{}),onClick:Ge,children:"Back"}),(0,B.jsxs)(s.Z,{direction:"row",spacing:2,children:[(0,B.jsx)(Me(),{pageStyle:He,documentTitle:"".concat((null===de||void 0===de||null===(e=de.customer)||void 0===e?void 0:e.customer_name)||"Default","-Booking-Invoice"),trigger:function(){return(0,B.jsx)(u.Z,{variant:"contained",color:"info",disableElevation:!0,sx:{color:"#fff",boxShadow:T.Z.shadows[1],borderRadius:T.Z.spacing(1)},startIcon:(0,B.jsx)(ke.Z,{}),children:"Booking"})},content:function(){return q.current}}),(null===de||void 0===de?void 0:de.finalInvoices)&&de.finalInvoices.length>0&&(0,B.jsx)(Me(),{pageStyle:He,documentTitle:"".concat(null===de||void 0===de||null===(n=de.customer)||void 0===n?void 0:n.customer_name,"-Final-Invoice"),trigger:function(){return(0,B.jsx)(u.Z,{variant:"contained",color:"success",disableElevation:!0,sx:{color:"#fff",boxShadow:T.Z.shadows[1],borderRadius:T.Z.spacing(1)},startIcon:(0,B.jsx)(ke.Z,{}),children:"Final Invoice"})},content:function(){return H.current}})]})]})}),(0,B.jsx)(S.Z,{sx:{scale:"0.8",transform:"translateY(-100px)",display:E?"none":"block"},children:de&&(0,B.jsx)(k,{ref:q,order:de})}),!E&&(0,B.jsx)(w.Z,{sx:{borderWidth:"5px"}}),(null===de||void 0===de?void 0:de.finalInvoices)&&de.finalInvoices.length>0&&(0,B.jsx)(S.Z,{sx:{scale:"0.8",pt:"100px",pb:"100px",display:E?"none":"block"},children:(0,B.jsx)(z,{ref:H,order:de})}),E&&(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(s.Z,{direction:"row",sx:{height:"100%",p:4},alignItems:"center",justifyContent:"center",spacing:2,children:[(0,B.jsx)(Me(),{pageStyle:He,documentTitle:"".concat((null===de||void 0===de||null===(t=de.customer)||void 0===t?void 0:t.customer_name)||"Default","-Booking-Invoice"),trigger:function(){return(0,B.jsx)(u.Z,{variant:"contained",color:"info",disableElevation:!0,sx:{color:"#fff",boxShadow:T.Z.shadows[1],borderRadius:T.Z.spacing(1)},startIcon:(0,B.jsx)(ke.Z,{}),children:"Booking"})},content:function(){return q.current}}),(null===de||void 0===de?void 0:de.finalInvoices)&&de.finalInvoices.length>0&&(0,B.jsx)(Me(),{pageStyle:He,documentTitle:"".concat(null===de||void 0===de||null===(P=de.customer)||void 0===P?void 0:P.customer_name,"-Final-Invoice"),trigger:function(){return(0,B.jsx)(u.Z,{variant:"contained",color:"success",disableElevation:!0,sx:{color:"#fff",boxShadow:T.Z.shadows[1],borderRadius:T.Z.spacing(1)},startIcon:(0,B.jsx)(ke.Z,{}),children:"Final Invoice"})},content:function(){return H.current}})]})})]})]})},He="@page {\n  size: A4;\n  margin:2.54cm;\n}\n\n@media all {\n  .pagebreak {\n    display: none;\n  }\n}\n\n@media print {\n  .pagebreak {\n    page-break-before: always;\n  }\n}"},73146:function(e,n){n.Z={goldGradientMain:"linear-gradient(90deg, #A17B11 0%, #EDC650 38%, #B28E22 100%)",goldGradientLight:"linear-gradient(90deg, #AE8625 0%, #F7EF8A 30%, #D2AC47 73%, #EDC967 100%)"}}}]);
//# sourceMappingURL=277.6b385dcb.chunk.js.map